
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4. Soccer Server &#8212; The RoboCup Soccer Simulator  documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="5. Soccer Monitor" href="soccermonitor.html" />
    <link rel="prev" title="3. Getting Started" href="gettingstarted.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="soccermonitor.html" title="5. Soccer Monitor"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="gettingstarted.html" title="3. Getting Started"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">The RoboCup Soccer Simulator  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">4. </span>Soccer Server</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p>Last update: Dec 08, 2020</p>
<div class="section" id="soccer-server">
<span id="cha-soccerserver"></span><h1><span class="section-number">4. </span>Soccer Server<a class="headerlink" href="#soccer-server" title="Permalink to this headline">¶</a></h1>
<div class="section" id="objects">
<h2><span class="section-number">4.1. </span>Objects<a class="headerlink" href="#objects" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="_images/objects.png"><img alt="_images/objects.png" src="_images/objects.png" style="width: 508.0px; height: 444.8px;" /></a>
<p class="caption"><span class="caption-number">Fig. 4.1 </span><span class="caption-text">UML diagram of the objects in the simulation</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="protocols">
<h2><span class="section-number">4.2. </span>Protocols<a class="headerlink" href="#protocols" title="Permalink to this headline">¶</a></h2>
<div class="section" id="player-command-protocol">
<span id="sec-playercommmandprotocol"></span><h3><span class="section-number">4.2.1. </span>Player Command Protocol<a class="headerlink" href="#player-command-protocol" title="Permalink to this headline">¶</a></h3>
<div class="section" id="connecting-reconnecting-and-disconnecting">
<h4>Connecting, reconnecting, and disconnecting<a class="headerlink" href="#connecting-reconnecting-and-disconnecting" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 53%" />
<col style="width: 47%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>From player to server</p></th>
<th class="head"><p>From server to client</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(init <em>TeamName</em> [(version <em>VerNum</em> )] [(goalie)])</div>
<div class="line-block">
<div class="line"><em>TeamName</em> ::= [-_a-zA-Z0-9]+</div>
<div class="line-block">
<div class="line"><em>VerNum</em> ::= the protocol version (e.g. 15)</div>
</div>
</div>
</div>
</td>
<td><div class="line-block">
<div class="line">(init <em>Side</em> <em>Unum</em> <em>PlayMode</em>)</div>
<div class="line-block">
<div class="line-block">
<div class="line"><em>Side</em> ::= <code class="docutils literal notranslate"><span class="pre">l</span></code> | <code class="docutils literal notranslate"><span class="pre">r</span></code></div>
<div class="line"><em>Unum</em> ::= 1~11</div>
</div>
<div class="line"><em>PlayMode</em> ::= one of play modes</div>
</div>
<div class="line">(error no_more_team_or_player)</div>
<div class="line">(error reconnect)</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(reconnect …)</div>
<div class="line-block">
<div class="line">TeamName :=</div>
</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>(bye)</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>If your client connects or reconnects sucessfully with a protocol version &gt;= 7.0, the
server will additionally send following messages: <code class="docutils literal notranslate"><span class="pre">server_param</span></code> (a message
containing the server parameters), <code class="docutils literal notranslate"><span class="pre">player_param</span></code> (a message containing the
player parameters) and <code class="docutils literal notranslate"><span class="pre">player_type</span></code> (a message containing the player types).
Finally, the player will receive a message on changed
players (see Sec. <a class="reference internal" href="#sec-heterogeneousplayers"><span class="std std-ref">Heterogeneous Players</span></a>).</p>
</div>
<div class="section" id="initial-settings">
<h4>Initial Settings<a class="headerlink" href="#initial-settings" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 49%" />
<col style="width: 51%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>From player to server</p></th>
<th class="head"><p>From server to player</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(compression <em>Level</em>)</div>
<div class="line-block">
<div class="line"><em>Level</em> ::= zlib compression level [0,9]</div>
<div class="line-block">
<div class="line">or negative number</div>
</div>
</div>
</div>
</td>
<td><div class="line-block">
<div class="line">(ok compression <em>Level</em>)</div>
<div class="line">(warning compression_unsupported)</div>
<div class="line"><br /></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(clang (ver <em>MinVer</em> <em>MaxVer</em>))</div>
<div class="line-block">
<div class="line"><em>MinVer</em> ::= integer</div>
<div class="line"><em>MaxVer</em> ::= integer</div>
</div>
</div>
</td>
<td><p>(ok clang (ver <em>MinVer</em> <em>MaxVer</em>))</p></td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(ear (<em>OnOff</em> [<em>Team</em>] [<em>Type</em>]))</div>
<div class="line-block">
<div class="line"><em>OnOff</em> ::= <code class="docutils literal notranslate"><span class="pre">on</span></code> | <code class="docutils literal notranslate"><span class="pre">off</span></code></div>
<div class="line"><em>Team</em> ::= <code class="docutils literal notranslate"><span class="pre">our</span></code> | <code class="docutils literal notranslate"><span class="pre">opp</span></code> |</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">left</span></code> | <code class="docutils literal notranslate"><span class="pre">right</span></code> |</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">l</span></code> | <code class="docutils literal notranslate"><span class="pre">r</span></code> |</div>
<div class="line"><em>TeamName</em></div>
</div>
</div>
</div>
</td>
<td><div class="line-block">
<div class="line">no response if succeeded</div>
<div class="line">(error no team with name <em>TeamName</em>)</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>(synch_see)</p></td>
<td><p>(ok synch_see)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="player-control">
<h4>Player Control<a class="headerlink" href="#player-control" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 75%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>From player to server</p></th>
<th class="head"><p>Only once per cycle</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(turn <em>Moment</em>)</div>
<div class="line-block">
<div class="line"><em>Moment</em> ::= <strong>minmoment</strong> ~ <strong>maxmoment</strong> degrees</div>
</div>
</div>
</td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(dash <em>Power</em> [<em>Direction</em>])</div>
<div class="line-block">
<div class="line"><em>Power</em> ::= <strong>min_dash_power</strong> ~ <strong>max_dash_power</strong></div>
<div class="line"><em>Direction</em> ::= <strong>min_dash_angle</strong> ~ <strong>max_dash_angle</strong> degrees</div>
</div>
<div class="line">Note: backward dash (negative power) consumes double stamina.</div>
</div>
</td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(kick <em>Power</em> <em>Direction</em>)</div>
<div class="line-block">
<div class="line"><em>Power</em> ::= <strong>minpower</strong> ~ <strong>maxpower</strong></div>
<div class="line"><em>Direction</em> ::= <strong>minmoment</strong> ~ <strong>maxmoment</strong> degrees</div>
</div>
</div>
</td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(tackle <em>PowerOrAngle</em> [<em>Foul</em>])</div>
<div class="line-block">
<div class="line"><em>PowerOrAngle</em> ::= <strong>minmoment</strong> ~ <strong>maxmoment</strong> degrees
: if client version &gt;= 12</div>
<div class="line"><em>PowerOrAngle</em> ::= <strong>-max_back_tackle_power</strong> ~ <strong>max_tackle_power</strong>
: if client version &lt;  12</div>
<div class="line"><em>Foul</em> ::= <code class="docutils literal notranslate"><span class="pre">true</span></code> | <code class="docutils literal notranslate"><span class="pre">false</span></code> | <code class="docutils literal notranslate"><span class="pre">on</span></code> | <code class="docutils literal notranslate"><span class="pre">off</span></code></div>
</div>
</div>
</td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(catch <em>Direction</em>)</div>
<div class="line-block">
<div class="line"><em>Direction</em> ::= <strong>minmoment</strong> ~ <strong>maxmoment</strong> degrees</div>
</div>
</div>
</td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(move <em>X</em> <em>Y</em>)</div>
<div class="line-block">
<div class="line"><em>X</em> ::= real number</div>
<div class="line"><em>Y</em> ::= real number</div>
</div>
</div>
</td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(change_view <em>Width</em> <em>Quality</em>)</div>
<div class="line-block">
<div class="line"><em>Width</em> ::= <code class="docutils literal notranslate"><span class="pre">narrow</span></code> | <code class="docutils literal notranslate"><span class="pre">normal</span></code> | <code class="docutils literal notranslate"><span class="pre">wide</span></code></div>
<div class="line"><em>Quality</em> ::= <code class="docutils literal notranslate"><span class="pre">high</span></code> | <code class="docutils literal notranslate"><span class="pre">low</span></code></div>
</div>
</div>
</td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(say “<em>Message</em>”)</div>
<div class="line-block">
<div class="line"><em>Message</em> ::= [-0-9a-zA-Z ().+*/?&lt;&gt;_]*</div>
</div>
</div>
</td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(pointto <em>Distance</em> <em>Direction</em>)</div>
<div class="line">(pointto <em>Off</em>)</div>
<div class="line-block">
<div class="line"><em>Distance</em> ::= real number</div>
<div class="line"><em>Direction</em> ::= real number degree</div>
<div class="line"><em>Off</em> ::= <code class="docutils literal notranslate"><span class="pre">false</span></code> | <code class="docutils literal notranslate"><span class="pre">off</span></code></div>
</div>
</div>
</td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(attentionto <em>Team</em> <em>Unum</em>)</div>
<div class="line">(attentionto <em>Off</em>)</div>
<div class="line-block">
<div class="line"><em>Team</em> ::= <code class="docutils literal notranslate"><span class="pre">our</span></code> | <code class="docutils literal notranslate"><span class="pre">opp</span></code> |</div>
<div class="line-block">
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">left</span></code> | <code class="docutils literal notranslate"><span class="pre">right</span></code> |</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">l</span></code> | <code class="docutils literal notranslate"><span class="pre">r</span></code> |</div>
<div class="line"><em>TeamName</em></div>
</div>
<div class="line"><em>Unum</em> ::= integer</div>
<div class="line"><em>Off</em> ::= <code class="docutils literal notranslate"><span class="pre">false</span></code> | <code class="docutils literal notranslate"><span class="pre">off</span></code></div>
</div>
</div>
</div>
</td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>(done)</p></td>
<td><p>Yes</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="others">
<h4>Others<a class="headerlink" href="#others" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 44%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>From player to server</p></th>
<th class="head"><p>From server to player</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>(sense_body)</p></td>
<td><p>sense_body message</p></td>
</tr>
<tr class="row-odd"><td><p>(score)</p></td>
<td><div class="line-block">
<div class="line">(score <em>Time</em> <em>Our</em> <em>Opp</em>)</div>
<div class="line-block">
<div class="line"><em>Time</em> ::= simulation cycle of rcssserver</div>
<div class="line"><em>Our</em> ::= sender’s team score</div>
<div class="line"><em>Opp</em> ::= opponent team score</div>
</div>
</div>
</td>
</tr>
</tbody>
</table>
<p>The server may respond to the above commands with the errors:
(error unknown command) or
(error illegal command form)</p>
</div>
</div>
<div class="section" id="player-sensor-protocol">
<h3><span class="section-number">4.2.2. </span>Player Sensor Protocol<a class="headerlink" href="#player-sensor-protocol" title="Permalink to this headline">¶</a></h3>
<p>The following table shows the protocol for client version 14 or later.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>From server to player</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">(hear <em>Time</em> <em>Sender</em> “<em>Message</em>”)</div>
<div class="line">(hear <em>Time</em> <em>OnlineCoach</em> <em>CoachLanguageMessage</em>)</div>
<div class="line-block">
<div class="line"><em>Time</em> ::= simulation cycle of rcssserver</div>
<div class="line"><em>Sender</em> ::= <code class="docutils literal notranslate"><span class="pre">online_coach_left</span></code> | <code class="docutils literal notranslate"><span class="pre">online_coach_right</span></code> | <code class="docutils literal notranslate"><span class="pre">coach</span></code> | <code class="docutils literal notranslate"><span class="pre">referee</span></code> | <code class="docutils literal notranslate"><span class="pre">self</span></code> | <em>Direction</em></div>
<div class="line"><em>Direction</em> ::= -180 ~ 180 degrees</div>
<div class="line"><em>Message</em> ::= string</div>
<div class="line"><em>OnlineCoach</em> ::= <code class="docutils literal notranslate"><span class="pre">online_coach_left</span></code> | <code class="docutils literal notranslate"><span class="pre">online_coach_right</span></code></div>
<div class="line"><em>CoachLanguageMessage</em> ::= see the standard coach language section</div>
</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(see <em>Time</em> <em>ObjInfo</em>+)</div>
<div class="line-block">
<div class="line"><em>Time</em> ::= simulation cycle of rcssserver</div>
<div class="line"><em>ObjInfo</em> ::=</div>
<div class="line-block">
<div class="line">(<em>ObjName</em> <em>Distance</em> <em>Direction</em> <em>DistChange</em> <em>DirChange</em> <em>BodyFacingDir</em> <em>HeadFacingDir</em>
[<em>PointDir</em>] [t] [k]])</div>
<div class="line">| (<em>ObjName</em> <em>Distance</em> <em>Direction</em> <em>DistChange</em> <em>DirChange</em> [<em>PointDir</em>] [{t|k}])</div>
<div class="line">| (<em>ObjName</em> <em>Distance</em> <em>Direction</em>)</div>
<div class="line">| (<em>ObjName</em> <em>Diretion</em>)</div>
</div>
<div class="line"><em>ObjName</em> ::= (p [“<em>TeamName</em>” [<em>UniformNumber</em> [goalie]]])</div>
<div class="line-block">
<div class="line-block">
<div class="line">| (b)</div>
<div class="line">| (g {l|r})</div>
<div class="line">| (f c)</div>
<div class="line">| (f {l|c|r} {t|b})</div>
<div class="line">| (f p {l|r} {t|c|b})</div>
<div class="line">| (f g {l|r} {t|b})</div>
<div class="line">| (f {l|r|t|b} 0)</div>
<div class="line">| (f {t|b} {l|r} {10|20|30|40|50})</div>
<div class="line">| (f {l|r} {t|b} {10|20|30})</div>
<div class="line">| (l {l|r|t|b} 0)</div>
<div class="line">| (P)</div>
<div class="line">| (B)</div>
<div class="line">| (G)</div>
<div class="line">| (F)</div>
</div>
<div class="line"><em>Distance</em> ::= positive real number</div>
<div class="line"><em>Direction</em> ::= -180 ~ 180 degrees</div>
<div class="line"><em>DistChange</em> ::= real number</div>
<div class="line"><em>DirChange</em> ::= real number</div>
<div class="line"><em>BodyFacingDir</em> ::= -180 ~ 180 degrees</div>
<div class="line"><em>HeadFacingDir</em> ::= -180 ~ 180 degrees</div>
<div class="line"><em>PointDir</em> ::= -180 ~ 180 degrees</div>
<div class="line"><em>TeamName</em> ::= string</div>
<div class="line"><em>UniformNumber</em> ::= 1 ~ 11</div>
</div>
</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">(sense_body <em>Time</em></div>
<div class="line-block">
<div class="line">(view_mode {high|low} {narrow|normal|wide})</div>
<div class="line">(stamina <em>Stamina</em> <em>Effort</em> <em>Capacity</em>)</div>
<div class="line">(speed <em>AmountOfSpeed</em> <em>DirectionOfSpeed</em>)</div>
<div class="line">(head_angle <em>HeadAngle</em>)</div>
<div class="line">(kick <em>KickCount</em>)</div>
<div class="line">(dash <em>DashCount</em>)</div>
<div class="line">(turn <em>TurnCount</em>)</div>
<div class="line">(say <em>SayCount</em>)</div>
<div class="line">(turn_neck <em>TurnNeckCount</em>)</div>
<div class="line">(catch <em>CatchCount</em>)</div>
<div class="line">(move <em>MoveCount</em>)</div>
<div class="line">(change_view <em>ChangeViewCount</em>)</div>
<div class="line">(arm (movable <em>MovableCycles</em>) (expires <em>ExpireCycles</em>) (count <em>PointtoCount</em>))</div>
<div class="line">(focus (target {none|{l|r} <em>Unum</em>}) (count <em>AttentiontoCount</em>))</div>
<div class="line">(tackle (expires <em>ExpireCycles</em>) (count <em>TackleCount</em>))</div>
<div class="line">(collision {none|[(ball)] [(player)] [(post)]})</div>
<div class="line">(foul (charged <em>FoulCycles</em>) (card {red|yellow|none})))</div>
</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(fullstate <em>Time</em></div>
<div class="line-block">
<div class="line">(pmode {goalie_catch_ball_{l|r}|*PlayMode*})</div>
<div class="line">(vmode {high|low} {narrow|normal|wide})</div>
<div class="line">(count <em>KickCount</em> <em>DashCount</em> <em>TurnCount</em> <em>CatchCount</em> <em>MoveCount</em> <em>TurnNeckCount</em> <em>ChangeViewCount</em> <em>SayCount</em>)</div>
<div class="line">(arm (movable <em>MovableCycles</em>) (expires <em>ExpireCycles</em>))
(target <em>Distance</em> <em>Direction</em>) (count <em>PointtoCount</em>)</div>
<div class="line">(score <em>Time</em> <em>Our</em> <em>Opp</em>)</div>
<div class="line">((b) <em>X</em> <em>Y</em> <em>VelX</em> <em>VelY</em>)</div>
<div class="line"><em>Players</em>+)</div>
<div class="line-block">
<div class="line"><em>Players</em> ::= ((p {l|r} <em>UniformNumber</em> [g] <em>PlayerType</em>)
<em>X</em> <em>Y</em> <em>VelX</em> <em>VelY</em> <em>BodyDir</em> <em>NeckDir</em> [<em>PointtoDist</em> <em>PointtoDir</em>]
(stamina <em>Stamina</em> <em>Effort</em> <em>Recovery</em> <em>Capacity</em>)
[k|t|f] [r|y]))</div>
</div>
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="sensor-models">
<h2><span class="section-number">4.3. </span>Sensor Models<a class="headerlink" href="#sensor-models" title="Permalink to this headline">¶</a></h2>
<p>A RoboCup agent has three different sensors (and one special sensor).
The aural sensor detects messages sent by the referee, the coaches and the
other players.
The visual sensor detects visual information about the field, like the
distance and direction to objects in the player’s current field of
view. The visual sensor also works as a proximity sensor by “seeing”
objects that are close, but behind the player.
The body sensor detects the current “physical” status of the player, like
its stamina, speed and neck angle.
Together the sensors give the agent quite a good picture of the environment.</p>
<div class="section" id="aural-sensor-model">
<h3><span class="section-number">4.3.1. </span>Aural Sensor Model<a class="headerlink" href="#aural-sensor-model" title="Permalink to this headline">¶</a></h3>
<p>Aural sensor messages are sent when a client or a coach sends a say command.
The calls from the referee is also received as aural messages.
All messages are received immediately.</p>
<p>The format of the aural sensor message from the soccer server is:</p>
<blockquote>
<div><p>(hear  <em>Time</em>  <em>Sender</em>  ‘’<em>Message</em>’’)</p>
</div></blockquote>
<ul class="simple">
<li><p><em>Time</em> indicates the current time.</p></li>
<li><p><em>Sender</em> is the relative direction to the sender if it is another player,
otherwise it is one of the following:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">self</span></code>: when the sender is yourself.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">referee</span></code>: when the sender is the referee.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">online_coach_left</span></code> or <code class="docutils literal notranslate"><span class="pre">online_coach_right</span></code>: when the sender is one of the online coaches.</p></li>
</ul>
</li>
<li><p><em>Message</em> is the message. The maximum length is <strong>server::say_msg_size</strong> bytes.
The possible messages from the referee are described in Section <a class="reference internal" href="#sec-playmodes"><span class="std std-ref">Play Modes and referee messages</span></a>.</p></li>
</ul>
<p>The server parameters that affects the aural sensor are described in <a class="reference internal" href="#param-auralsensor"><span class="std std-numref">Table 4.1</span></a>.</p>
<table class="colwidths-given docutils align-default" id="param-auralsensor">
<caption><span class="caption-number">Table 4.1 </span><span class="caption-text">Parameters for the aural sensor.</span><a class="headerlink" href="#param-auralsensor" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 60%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter in server.conf</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>audio_cut_dist</p></td>
<td><p>50.0</p></td>
</tr>
<tr class="row-odd"><td><p>hear_max</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>hear_inc</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>hear_decay</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
<div class="section" id="capacity-of-the-aural-sensor">
<h4>Capacity of the Aural Sensor<a class="headerlink" href="#capacity-of-the-aural-sensor" title="Permalink to this headline">¶</a></h4>
<p>A player can only hear a message if the player’s hear capacity is at least
<strong>server::hear_decay</strong>, since the hear capacity of the player is decreased by
that number when a message is heard.
Every cycle the hear capacity is increased with <strong>server::hear_inc</strong>.
The maximum hear capacity is <strong>server::hear_max</strong>.
To avoid a team from making the other team’s communication useless by
overloading the channel the players have separate hear capacities for each team.
With the current server.conf file this means that a player can hear at most
one message from each team every second simulation cycle.</p>
<p>If more messages arrive at the same time than the player can hear the messages
actually heard are chosen randomly.
.. (The current implementation choose the messages according to the order of arrival.)
This rule does not include messages from the referee, or messages from oneself.
.. In other words, a player can say a message and hear a message from another
.. player in the same timestep.</p>
</div>
<div class="section" id="range-of-communication">
<h4>Range of Communication<a class="headerlink" href="#range-of-communication" title="Permalink to this headline">¶</a></h4>
<p>A message said by a player is transmitted only to players within
<strong>server::audio_cut_dist</strong> meters from that player.
For example, a defender, who may be near his own goal, can hear a message
from his goal-keeper but a striker who is near the opponent goal can not hear
the message.
Messages from the referee can be heard by all players.</p>
</div>
<div class="section" id="aural-sensor-example">
<h4>Aural Sensor Example<a class="headerlink" href="#aural-sensor-example" title="Permalink to this headline">¶</a></h4>
<p>This example should show which messages get through and how to calculated
the hear capacity.</p>
<p>Example:
Each coach sends a message every cycle.
The referee send a message every cycle.
The four players in the example all send a message every cycle.
Show which messages gets through during 10 cycles (6 might be enough).</p>
</div>
</div>
<div class="section" id="vision-sensor-model">
<span id="sec-visionsensor"></span><h3><span class="section-number">4.3.2. </span>Vision Sensor Model<a class="headerlink" href="#vision-sensor-model" title="Permalink to this headline">¶</a></h3>
<p>The visual sensor reports the objects currently seen by the player.
The information is automatically sent to the player every
<strong>server::sense_step</strong>, currently 150, milli-seconds, in the default setting.</p>
<p>Visual information arrives from the server in the following basic format:</p>
<blockquote>
<div><p>(see <em>ObjName</em> <em>Distance</em> <em>Direction</em> <em>DistChng</em> <em>DirChng</em> <em>BodyDir</em> <em>HeadDir</em>)</p>
</div></blockquote>
<p><em>Distance</em>, <em>Direction</em>, <em>DistChng</em> and <em>DirChng</em> are calculated in the
following way:</p>
<div class="math notranslate nohighlight">
\[\begin{split}p_{rx} &amp;= p_{xt} - p_{xo} \\
p_{ry} &amp;= p_{yt} - p_{yo} \\
v_{rx} &amp;= v_{xt} - v_{xo} \\
v_{ry} &amp;= v_{yt} - v_{yo} \\
Distance &amp;= \sqrt{p_{rx}^2 + p_{ry}^2} \\
Direction &amp;= \arctan{(p_{ry}/p_{rx})} - a_o \\
e_{rx} &amp;= p_{rx} / Distance \\
e_{ry} &amp; = p_{ry} / Distance \\
DistChng &amp;= (v_{rx} * e_{rx}) + (v_{ry} * e_{ry}) \\
DirChng &amp;= [(-(v_{rx} * e_{ry}) + (v_{ry} * e_{rx})) / Distance] * (180 / \pi)  \\
BodyDir &amp;= PlayerBodyDir - AgentBodyDir - AgentHeadDir \\
HeadDir &amp;= PlayerHeadDir - AgentBodyDir - AgentHeadDir\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\((p_{xt},p_{yt})\)</span> is the absolute position of the target object,
<span class="math notranslate nohighlight">\((p_{xo},p_{yo})\)</span> is the absolute position of the sensing player,
<span class="math notranslate nohighlight">\((v_{xt},v_{yt})\)</span> is the absolute velocity of the target object,
<span class="math notranslate nohighlight">\((v_{xo},v_{yo})\)</span> is the absolute velocity of the sensing player,
and <span class="math notranslate nohighlight">\(a_o\)</span> is the absolute direction the sensing player is facing.
The absolute facing direction of a player is the sum of the <em>BodyDir</em> and
the <em>HeadDir</em> of that player.
In addition to it, <span class="math notranslate nohighlight">\((p_{rx},p_{ry})\)</span> and <span class="math notranslate nohighlight">\((v_{rx},v_{ry})\)</span> are
respectively the relative position and the relative velocity of the target,
and <span class="math notranslate nohighlight">\((e_{rx},e_{ry})\)</span> is the unit vector that is parallel to the vector
of the relative position.
<em>BodyDir</em> and <em>HeadDir</em> are only included if the observed object is a player,
and is the body and head directions of the observed player relative to the body
and head directions of the observing player.
Thus, if both players have their bodies turned in the same direction, then
<em>BodyDir</em> would be 0.  The same goes for <em>HeadDir</em>.</p>
<p>The <strong>(goal r)</strong> object is interpreted as the center of the right hand side
goalline.
<strong>(f c)</strong> is a virtual flag at the center of the field.
<strong>(f l b)</strong> is the flag at the lower left of the field.
<strong>(f p l b)</strong> is a virtual flag at the lower right corner of the penalty box
on the left side of the field.
<strong>(f g l b)</strong> is a virtual flag marking the right goalpost on the left goal.
The remaining types of flags are all located 5 meters outside the playing
field. For example, <strong>(f t l 20)</strong> is 5 meters from the top sideline and 20
meters left from the center line.
In the same way, <strong>(f r b 10)</strong> is 5 meters right of the right sideline and
10 meters below the center of the right goal.
Also, <strong>(f b 0)</strong> is 5 meters below the midpoint of the bottom sideline.</p>
<p>In the case of <strong>(l …)</strong>, <em>Distance</em> is the distance to the point where
the center line of the player’s view crosses the line, and <em>Direction</em> is
the direction of the line.</p>
<p>Currently there are 55 flags (the goals counts as flags) and 4 lines to be
seen. All of the flags and lines are shown in <a class="reference internal" href="#field-detailed"><span class="std std-numref">Fig. 4.2</span></a>.</p>
<div class="figure align-center" id="field-detailed">
<img alt="_images/field-detailed.png" src="_images/field-detailed.png" />
<p class="caption"><span class="caption-number">Fig. 4.2 </span><span class="caption-text">The flags and lines in the simulation.</span><a class="headerlink" href="#field-detailed" title="Permalink to this image">¶</a></p>
</div>
<p>In protocol versions 13+, when a player’s team is visible, their tackling and
kicking state is also visible via <cite>t</cite> and <cite>k</cite>. If the player is tackling,
<cite>t</cite> is present. If they are kicking, <cite>k</cite> is present instead. If an observed
player is tackling, the kicking flag is always overwritten by the tackle flag.
The kicking state is visible the cycle directly after kicking.</p>
<div class="section" id="range-of-view">
<h4>Range of View<a class="headerlink" href="#range-of-view" title="Permalink to this headline">¶</a></h4>
<p>The visible sector of a player is dependant on several factors.
First of all we have the server parameters <strong>server::sense_step</strong> and
<strong>server::visible_angle</strong> which determines the basic time step between
visual information and how many degrees the player’s normal view cone is.
The current default values are 150 milli-seconds and 90 degrees.</p>
<p>The player can also influence the frequency and quality of the information
by changing <em>ViewWidth</em> and <em>ViewQuality</em>.</p>
<p>To calculate the current view frequency and view angle of the agent
use equations <a class="reference internal" href="#equation-view-freq">(4.1)</a> and <a class="reference internal" href="#equation-view-angle">(4.2)</a>.</p>
<div class="math notranslate nohighlight" id="equation-view-freq">
<span class="eqno">(4.1)<a class="headerlink" href="#equation-view-freq" title="Permalink to this equation">¶</a></span>\[view\_frequency = sense\_step * view\_quality\_factor * view\_width\_factor\]</div>
<p>where view_quality_factor is 1 if <em>ViewQuality</em> is <code class="docutils literal notranslate"><span class="pre">high</span></code>
and 0.5 if <em>ViewQuality</em> is <code class="docutils literal notranslate"><span class="pre">low</span></code>;
view_width_factor is 2 if <em>ViewWidth</em> is <code class="docutils literal notranslate"><span class="pre">narrow</span></code>,
1 if <em>ViewWidth</em> is <code class="docutils literal notranslate"><span class="pre">normal</span></code>, and 0.5 if <em>ViewWidth</em> is <code class="docutils literal notranslate"><span class="pre">wide</span></code>.</p>
<div class="math notranslate nohighlight" id="equation-view-angle">
<span class="eqno">(4.2)<a class="headerlink" href="#equation-view-angle" title="Permalink to this equation">¶</a></span>\[view\_angle = visible\_angle * view\_width\_factor\]</div>
<p>where view_width_factor is 0.5 if <em>ViewWidth</em> is <code class="docutils literal notranslate"><span class="pre">narrow</span></code>,
1 if <em>ViewWidth</em> is <code class="docutils literal notranslate"><span class="pre">normal</span></code>, and 2 if <em>ViewWidth</em> is <code class="docutils literal notranslate"><span class="pre">wide</span></code>.</p>
<p>The player can also “see” an object if it’s within <strong>server::visible_distance</strong>
meters of the player.
If the objects is within this distance but not in the view cone then the
player can know only the type of the object (ball, player, goal or flag),
but not the exact name of the object.
Moreover, in this case, the capitalized name, that is “B”, “P”, “G” and “F”,
is used as the name of the object rather than “b”, “p”, “g” and “f”.</p>
<div class="figure align-center" id="view-example">
<img alt="_images/view-example.png" src="_images/view-example.png" />
<p class="caption"><span class="caption-number">Fig. 4.3 </span><span class="caption-text">The visible range of an individual agent in the soccer server.
The viewing agent is the one shown as two semi-circles. The light
semi-circle is its front. The black circles represent objects in the world.
Only objects within <strong>server::view_angle</strong>/2, and those within
<strong>server::visible_distance</strong> of the viewing agent can be seen.
<strong>unum_far_length</strong>, <strong>unum_too_far_length</strong>, <strong>team_far_length</strong>, and
<strong>team_too_far_length</strong> affect the amount of precision
with which a player’s identity is given. Taken from <a class="reference internal" href="references.html#stone98" id="id2"><span>[Stone98]</span></a>.</span><a class="headerlink" href="#view-example" title="Permalink to this image">¶</a></p>
</div>
<p>The following example and <a class="reference internal" href="#view-example"><span class="std std-numref">Fig. 4.3</span></a> are taken from <a class="reference internal" href="references.html#stone98" id="id3"><span>[Stone98]</span></a>.</p>
<p>The meaning of the view_angle parameter is illustrated in <a class="reference internal" href="#view-example"><span class="std std-numref">Fig. 4.3</span></a>.
In this figure, the viewing agent is the one shown as two semi-circles.
The light semi-circle is its front.
The black circles represent objects in the world.
Only objects within <span class="math notranslate nohighlight">\(view\_angle^\circ/2\)</span>, and those within
visible_distance of the viewing agent can be seen.
Thus, objects <em>b</em> and <em>g</em> are not visible; all of the rest are.</p>
<p>As object <em>f</em> is directly in front of the viewing agent, its angle would be
reported as 0 degrees.
Object <em>e</em> would be reported as being roughly <span class="math notranslate nohighlight">\(-40^\circ\)</span>, while object
<em>d</em> is at roughly <span class="math notranslate nohighlight">\(20^\circ\)</span>.</p>
<p>Also illustrated in <a class="reference internal" href="#view-example"><span class="std std-numref">Fig. 4.3</span></a>, the amount of information
describing a player varies with how far away the player is.
For nearby players, both the team and the uniform number of the player are
reported.
However, as distance increases, first the likelihood that the uniform number
is visible decreases, and then even the team name may not be visible.
It is assumed in the server that <strong>unum_far_length</strong> <span class="math notranslate nohighlight">\(\leq\)</span>
<strong>unum_too_far_length</strong> <span class="math notranslate nohighlight">\(\leq\)</span> <strong>team_far_length</strong> <span class="math notranslate nohighlight">\(\leq\)</span>
<strong>team_too_far_length</strong>.
Let the player’s distance be <em>dist</em>. Then</p>
<ul class="simple">
<li><p>If <em>dist</em> <span class="math notranslate nohighlight">\(\leq\)</span> <strong>unum_far_length</strong>, then both uniform number and
team name are visible.</p></li>
<li><p>If <strong>unum_far_length</strong> <span class="math notranslate nohighlight">\(&lt;\)</span> <em>dist</em> <span class="math notranslate nohighlight">\(&lt;\)</span> <strong>unum_too_far_length</strong>,
then the team name is always visible, but the probability that the uniform
number is visible decreases linearly from 1 to 0 as <em>dist</em> increases.</p></li>
<li><p>If <em>dist</em> <span class="math notranslate nohighlight">\(\geq\)</span> <strong>unum_too_far_length</strong>, then the uniform number is
not visible.</p></li>
<li><p>If <em>dist</em> :math`leq` <strong>team_far_length</strong>, then the team name is visible.</p></li>
<li><p>If <strong>team_far_length</strong> <span class="math notranslate nohighlight">\(&lt;\)</span> <em>dist</em> <span class="math notranslate nohighlight">\(&lt;\)</span> <strong>team_too_far_length</strong>,
then the probability that the team name is visible decreases linearly from 1
to 0 as <em>dist</em> increases.</p></li>
<li><p>If <em>dist</em> <span class="math notranslate nohighlight">\(\geq\)</span> <strong>team_too_far_length</strong>, then the team name is not
visible.</p></li>
</ul>
<p>For example, in <a class="reference internal" href="#view-example"><span class="std std-numref">Fig. 4.3</span></a>, assume that all of the labeled circles
are players.
Then player <em>c</em> would be identified by both team name and uniform number;
player <em>d</em> by team name, and with about a 50% chance, uniform number;
player <em>e</em> with about a 25% chance, just by team name, otherwise with neither;
and player <em>f</em> would be identified simply as an anonymous player.</p>
<table class="colwidths-given docutils align-default" id="param-visualsensor">
<caption><span class="caption-number">Table 4.2 </span><span class="caption-text">Parameters for the visual sensors.</span><a class="headerlink" href="#param-visualsensor" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 60%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter in <code class="docutils literal notranslate"><span class="pre">server.conf</span></code></p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>server::sense_step</p></td>
<td><p>150</p></td>
</tr>
<tr class="row-odd"><td><p>server::visible_angle</p></td>
<td><p>90.0</p></td>
</tr>
<tr class="row-even"><td><p>server::visible_distance</p></td>
<td><p>3.0</p></td>
</tr>
<tr class="row-odd"><td><p>unum_far_length <span class="math notranslate nohighlight">\(^\dagger\)</span></p></td>
<td><p>20.0</p></td>
</tr>
<tr class="row-even"><td><p>unum_too_far_length <span class="math notranslate nohighlight">\(^\dagger\)</span></p></td>
<td><p>40.0</p></td>
</tr>
<tr class="row-odd"><td><p>team_far_length <span class="math notranslate nohighlight">\(^\dagger\)</span></p></td>
<td><p>40.0</p></td>
</tr>
<tr class="row-even"><td><p>team_too_far_length <span class="math notranslate nohighlight">\(^\dagger\)</span></p></td>
<td><p>60.0</p></td>
</tr>
<tr class="row-odd"><td><p>server::quantize_step</p></td>
<td><p>0.1</p></td>
</tr>
<tr class="row-even"><td><p>server::quantize_step_l</p></td>
<td><p>0.01</p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(^\dagger\)</span> : Not in <code class="docutils literal notranslate"><span class="pre">server.conf</span></code>, but compiled into the server.</p>
</div>
<div class="section" id="visual-sensor-noise-model">
<h4>Visual Sensor Noise Model<a class="headerlink" href="#visual-sensor-noise-model" title="Permalink to this headline">¶</a></h4>
<p>In order to introduce noise in the visual sensor data the values sent from
the server is quantized.
For example, the distance value of the object, in the case where the object
in sight is a ball or a player, is quantized in the following manner:</p>
<div class="math notranslate nohighlight">
\[d' = {\rm Quantize}(\exp({\rm Quantize}(\log(d),quantize\_step)),0.1)\]</div>
<p>where <span class="math notranslate nohighlight">\(d\)</span> and <span class="math notranslate nohighlight">\(d'\)</span> are the exact distance and quantized distance
respectively, and</p>
<div class="math notranslate nohighlight">
\[{\rm Quantize}(V,Q) = {\rm ceiling}(V/Q) \cdot Q\]</div>
<p>This means that players can not know the exact positions of very far objects.
For example, when distance is about 100.0 the maximum noise is about 10.0,
while when distance is less than 10.0 the noise is less than 1.0.</p>
<p>In the case of flags and lines, the distance value is quantized in the
following manner.</p>
<div class="math notranslate nohighlight">
\[d' = {\rm Quantize}(\exp({\rm Quantize}(\log(d),quantize\_step\_l)),0.1)\]</div>
</div>
</div>
<div class="section" id="body-sensor-model">
<h3><span class="section-number">4.3.3. </span>Body Sensor Model<a class="headerlink" href="#body-sensor-model" title="Permalink to this headline">¶</a></h3>
<p>The body sensor reports the current “physical” status of the
player.
he information is automatically sent to the player every
<strong>server::sense_body_step</strong>, currently 100, milli-seconds.</p>
<p>The format of the body sensor message is:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><div class="line-block">
<div class="line">(sense_body <em>Time</em></div>
<div class="line-block">
<div class="line">(view_mode <em>ViewQuality</em> <em>ViewWidth</em>)</div>
<div class="line">(stamina <em>Stamina</em> <em>Effort</em> <em>Capacity</em>)</div>
<div class="line">(speed <em>AmountOfSpeed</em> <em>DirectionOfSpeed</em>)</div>
<div class="line">(head_angle <em>HeadAngle</em>)</div>
<div class="line">(kick <em>KickCount</em>)</div>
<div class="line">(dash <em>DashCount</em>)</div>
<div class="line">(turn <em>TurnCount</em>)</div>
<div class="line">(say <em>SayCount</em>)</div>
<div class="line">(turn_neck <em>TurnNeckCount</em>)</div>
<div class="line">(catch <em>CatchCount</em>)</div>
<div class="line">(move <em>MoveCount</em>)</div>
<div class="line">(change_view <em>ChangeViewCount</em>)</div>
<div class="line">(arm (movable <em>MovableCycles</em>) (expires <em>ExpireCycles</em>) (count <em>PointtoCount</em>))</div>
<div class="line">(focus (target {none|{l|r} <em>Unum</em>}) (count <em>AttentiontoCount</em>))</div>
<div class="line">(tackle (expires <em>ExpireCycles</em>) (count <em>TackleCount</em>))</div>
<div class="line">(collision {none|[(ball)] [(player)] [(post)]})</div>
<div class="line">(foul (charged <em>FoulCycles</em>) (card {red|yellow|none})))</div>
</div>
</div>
</td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p><em>ViewQuality</em> is one of <code class="docutils literal notranslate"><span class="pre">high</span></code> and <code class="docutils literal notranslate"><span class="pre">low</span></code>.</p></li>
<li><p><em>ViewWidth</em> is one of <code class="docutils literal notranslate"><span class="pre">narrow</span></code>, <code class="docutils literal notranslate"><span class="pre">normal</span></code>, and <code class="docutils literal notranslate"><span class="pre">wide</span></code>.</p></li>
<li><p><em>AmountOfSpeed</em> is an approximation of the amount of the player’s speed.</p></li>
<li><p><em>DirectionOfSpeed</em> is an approximation of the direction of the player’s speed.</p></li>
<li><p><em>HeadDirection</em> is the relative direction of the player’s head.</p></li>
<li><p><em>*Count</em> variables are the total number of commands of that type
executed by the server.  For example <em>DashCount</em> = 134 means
that the player has executed 134 <strong>dash</strong> commands so far.</p></li>
<li><p><em>MovableCycles</em></p></li>
<li><p><em>ExpireCycles</em></p></li>
<li><p><em>FoulCycles</em></p></li>
</ul>
<p>The semantics of the parameters are described where they are actually
used.
he <em>ViewQuality</em> and <em>ViewWidth</em> parameters are for example described
in the Section <a class="reference internal" href="#sec-visionsensor"><span class="std std-ref">Vision Sensor Model</span></a>.</p>
<p>The server parameters that affects the body sensor are described in
the following table:</p>
<table class="colwidths-given docutils align-default" id="param-bodysensor">
<caption><span class="caption-number">Table 4.3 </span><span class="caption-text">Parameters for the body sensor.</span><a class="headerlink" href="#param-bodysensor" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 60%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter in server.conf</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>server::sense_body_step</p></td>
<td><p>100</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="movement-models">
<h2><span class="section-number">4.4. </span>Movement Models<a class="headerlink" href="#movement-models" title="Permalink to this headline">¶</a></h2>
<p>In each simulation step, movement of each object is calculated as following manner:</p>
<div class="math notranslate nohighlight" id="equation-eq-u-t">
<span class="eqno">(4.3)<a class="headerlink" href="#equation-eq-u-t" title="Permalink to this equation">¶</a></span>\[\begin{split} (u_x^{t+1},u_y^{t+1}) &amp;= (v_x^t,v_y^t)+(a_x^t,a_y^t) : accelerate \\
 (p_x^{t+1},p_y^{t+1}) &amp;= (p_x^t,p_y^t)+(u_x^{t+1},u_y^{t+1}) : move \\
 (v_x^{t+1},v_y^{t+1}) &amp;= decay \times (u_x^{t+1},u_y^{t+1}) : decay\ speed \\
 (a_x^{t+1},a_y^{t+1}) &amp;= (0,0) : reset\ acceleration\end{split}\]</div>
<p>where, <span class="math notranslate nohighlight">\((p_x^t,p_y^t)\)</span>, and <span class="math notranslate nohighlight">\((v_x^t,v_y^t)\)</span> are respectively position
and velocity of the object in timestep <span class="math notranslate nohighlight">\(t\)</span>. decay is a decay parameter
specified by <code class="docutils literal notranslate"><span class="pre">ball_decay</span></code> or <code class="docutils literal notranslate"><span class="pre">player_decay</span></code>. <span class="math notranslate nohighlight">\((a_x^t,a_y^t)\)</span> is
acceleration of object, which is derived from Power parameter in <code class="docutils literal notranslate"><span class="pre">dash</span></code>
(in the case the object is a player) or <code class="docutils literal notranslate"><span class="pre">kick</span></code> (in the case of a ball)
commands in the following manner:</p>
<div class="math notranslate nohighlight">
\[(a_x^{t},a_y^{t}) = Power \times power\_rate \times (\cos(\theta^t),\sin(\theta^t))\]</div>
<p>where <span class="math notranslate nohighlight">\(\theta^t\)</span> is the direction of the object in timestep <span class="math notranslate nohighlight">\(t\)</span> and
power_rate is <code class="docutils literal notranslate"><span class="pre">dash_power_rate</span></code> or is calculated from <code class="docutils literal notranslate"><span class="pre">kick_power_rate</span></code>
as described in Sec. <a class="reference internal" href="#sec-kickmodel"><span class="std std-ref">Kick Model</span></a>.
In the case of a player, this is just the direction the player is facing.
In the case of a ball, its direction is given as the following manner:</p>
<div class="math notranslate nohighlight">
\[\theta^t_{ball} = \theta^t_{kicker} + Direction\]</div>
<p>where <span class="math notranslate nohighlight">\(\theta^t_{ball}\)</span> and <span class="math notranslate nohighlight">\(\theta^t_{kicker}\)</span> are directions of
ball and kicking player respectively, and <em>Direction</em> is the second parameter
of a <strong>kick</strong> command.</p>
<div class="section" id="movement-noise-model">
<h3><span class="section-number">4.4.1. </span>Movement Noise Model<a class="headerlink" href="#movement-noise-model" title="Permalink to this headline">¶</a></h3>
<p>In order to reflect unexpected movements of objects in real world,
rcssserver adds noise to the movement of objects and parameters of commands.</p>
<p>Concerned with movements,
noise is added into Eqn.:ref:<cite>eq:u-t</cite> as follows:</p>
<div class="math notranslate nohighlight">
\[(u_x^{t+1},u_y^{t+1}) = (v_x^{t}, v_y^{t}) + (a_x^{t}, a_y^{t}) + (\tilde{r}_{\rm rmax},\tilde{r}_{\rm rmax})\]</div>
<p>where <span class="math notranslate nohighlight">\(\tilde{r}_{\rm rmax}\)</span> is a random number whose distribution
is uniform over the range <span class="math notranslate nohighlight">\([-{\rm rmax},{\rm rmax}]\)</span>.
<span class="math notranslate nohighlight">\({\rm rmax}\)</span> is a parameter that depends on amount of velocity
of the object as follows:</p>
<div class="math notranslate nohighlight">
\[{\rm rmax} = {\rm rand} \cdot |(v_x^{t}, v_y^{t})|\]</div>
<p>where <span class="math notranslate nohighlight">\({\rm rand}\)</span> is a parameter specified by <strong>server::player_rand</strong>
or <strong>server::ball_rand</strong>.</p>
<p>Noise is added also into the <em>Power</em> and <em>Moment</em> arguments of a
command as follows:</p>
<div class="math notranslate nohighlight">
\[argument = (1 + \tilde{r}_{\rm rand}) \cdot argument\]</div>
</div>
<div class="section" id="collision-model">
<h3><span class="section-number">4.4.2. </span>Collision Model<a class="headerlink" href="#collision-model" title="Permalink to this headline">¶</a></h3>
<p>If at the end of the simulation cycle, two objects overlap, then the
objects are moved back until they do not overlap.
Then the velocities are multiplied by -0.1.
Note that it is possible for the ball to go through a player as long
as the ball and the player never overlap at the end of the cycle.</p>
</div>
</div>
<div class="section" id="action-models">
<h2><span class="section-number">4.5. </span>Action Models<a class="headerlink" href="#action-models" title="Permalink to this headline">¶</a></h2>
<div class="section" id="catch-model">
<h3><span class="section-number">4.5.1. </span>Catch Model<a class="headerlink" href="#catch-model" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="catcharea">
<img alt="_images/catcharea.png" src="_images/catcharea.png" />
<p class="caption"><span class="caption-number">Fig. 4.4 </span><span class="caption-text">Catchable area of the goalie when doing a (catch 45)</span><a class="headerlink" href="#catcharea" title="Permalink to this image">¶</a></p>
</div>
<p>The goalie is the only player with the ability to catch a ball. The
goalie can catch the ball in play mode <code class="docutils literal notranslate"><span class="pre">play_on</span></code> in any direction,
if the ball is within the catchable area and the goalie is inside the
penalty area.  If the goalie catches into direction <span class="math notranslate nohighlight">\(\varphi\)</span>,
the catchable area is a rectangular area of length
<strong>server::catchable_area_l</strong> and width <strong>server::catchable_area_w</strong> in
direction <span class="math notranslate nohighlight">\(\varphi\)</span> (see <a class="reference internal" href="#catcharea"><span class="std std-numref">Fig. 4.4</span></a>).
The ball will be caught with probability
<strong>server::catch_probability</strong>, if it is inside this area (and it will
not be caught if it is outside this area).
For the current values of catch command parameters see <a class="reference internal" href="#param-goaliecatch"><span class="std std-numref">Table 4.4</span></a>:</p>
<table class="docutils align-default" id="param-goaliecatch">
<caption><span class="caption-number">Table 4.4 </span><span class="caption-text">Parameters for the goalie catch command</span><a class="headerlink" href="#param-goaliecatch" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 82%" />
<col style="width: 18%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter in <code class="docutils literal notranslate"><span class="pre">server.conf</span></code> and <code class="docutils literal notranslate"><span class="pre">player.conf</span></code></p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>server::catchable_area_l</p></td>
<td><p>2.0</p></td>
</tr>
<tr class="row-odd"><td><p>server::catchable_area_w</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-even"><td><p>server::catch_probability</p></td>
<td><p>1.0</p></td>
</tr>
<tr class="row-odd"><td><p>server::catch_ban_cycle</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>server::goalie_max_moves</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>player::catchable_area_l_stretch_max</p></td>
<td><p>1.3</p></td>
</tr>
<tr class="row-even"><td><p>player::catchable_area_l_stretch_min</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
<p><strong>TODO</strong> about heterogenous parameters.</p>
<p>First time when goalie has been introduced in Soccer Simulation 2D was with server
version 4.0.0:
When a client connects the server with ‘(init TEAMNAME (goalie)’,
the client becomes a goalies. The goalie can use ‘(catch DIR)’ command
that enable to capture the ball.</p>
<p>With server version 4.0.2 another parameter named <strong>server::catch_probability</strong> has
been introduced. This parameter represents the probability that a goalie succeed to
catch the ball by a catch command. (default value: 1.0)</p>
<p>Later, in server version 14.0.0 a heterogeneous goalie has been introduced. Beginning
with this version online coaches can change the player type of goalie. The
‘catchable_area_l_stretch’ variable was added to each heterogeneous player type through
two new parameters: player::catchable_area_l_stretch_min (default value: 1.0) and
player::catchable_area_l_stretch_max (default value: 1.3)</p>
<p>The following pseudo code shows a trade-off rule of the catch model:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// catchable_area_l_stretch is the heterogeneous parameter, currenlty within [1.0,1.3]</span>

<span class="kt">double</span> <span class="n">this_catchable_are_delta</span> <span class="o">=</span> <span class="n">server</span><span class="o">::</span><span class="n">catchable_area_l</span> <span class="o">*</span> <span class="p">(</span><span class="n">catchable_area_l_stretch</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="kt">double</span> <span class="n">this_catchable_area_l_max</span> <span class="o">=</span> <span class="n">server</span><span class="o">::</span><span class="n">catchable_area_l</span> <span class="o">+</span> <span class="n">this_catchable_are_delta</span>
<span class="kt">double</span> <span class="n">this_catchable_area_l_min</span> <span class="o">=</span> <span class="n">server</span><span class="o">::</span><span class="n">catchable_area_l</span> <span class="o">-</span> <span class="n">this_catchable_are_delta</span>

<span class="k">if</span> <span class="p">(</span><span class="n">ball_pos</span> <span class="n">is</span> <span class="n">inside</span> <span class="n">the</span> <span class="n">MINIMAL</span> <span class="n">catch</span> <span class="n">area</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// the MINIMAL catch area has a length of this_catchable_area_l_min and width server::catchable_area_w goalie</span>
    <span class="c1">// catches the ball with probability server::catch_probability (which is 1.0 by default)</span>
<span class="p">}</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">ball_pos</span> <span class="n">is</span> <span class="n">beyond</span> <span class="n">the</span> <span class="n">MAXIMAL</span> <span class="p">(</span><span class="n">stretched</span><span class="p">)</span> <span class="n">area</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// the MAXIMAL catch area has a length of this_catchable_area_l_max and width server::catchable_area_w goalie</span>
    <span class="c1">// definitely misses the ball</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="kt">double</span> <span class="n">ball_relative_x</span> <span class="o">=</span> <span class="p">(</span><span class="n">ball_pos</span> <span class="o">-</span> <span class="n">goalie_pos</span><span class="p">).</span><span class="n">rotate</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">goalie_body</span> <span class="o">+</span> <span class="n">catch_dir</span><span class="p">)).</span><span class="n">x</span>
    <span class="kt">double</span> <span class="n">catch_prob</span> <span class="o">=</span> <span class="n">server</span><span class="o">::</span><span class="n">catch_probability</span>
                        <span class="o">-</span> <span class="n">server</span><span class="o">::</span><span class="n">catch_probability</span>
                          <span class="o">*</span> <span class="p">(</span><span class="n">ball_relative_x</span> <span class="o">-</span> <span class="n">this_catchable_area_l_min</span><span class="p">)</span>
                          <span class="o">/</span> <span class="p">(</span><span class="n">this_catchable_area_l_max</span> <span class="o">-</span> <span class="n">this_catchable_area_l_min</span><span class="p">)</span>
    <span class="c1">// goalie catches the ball with probability catch_prob it holds: catch_prob is in [0.0,1.0]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If a catch command was unsuccessful, it takes
<strong>server::catch_ban_cycle</strong> cycles until another catch command can be
used (catch commands during this time have simply no effect).
If the goalie succeeded in catching the ball, the play mode will
change to <code class="docutils literal notranslate"><span class="pre">goalie_catch_ball_[l|r]</span></code> first and <code class="docutils literal notranslate"><span class="pre">free_kick_[l|r]</span></code>,
after that during the same cycle.
nce the goalie caught the ball, it can use the <strong>move</strong> command to
move with the ball inside the penalty area.
he goalie can use the <strong>move</strong> command <strong>server::goalie_max_moves</strong>
times before it kicks the ball.
dditional <strong>move</strong> commands do not have any effect and the server will
respond with <code class="docutils literal notranslate"><span class="pre">(error</span> <span class="pre">too_many_moves)</span></code>.
Please note that catching the ball, moving around, kicking the ball a
short distance and immediately catching it again to move more than
<strong>server::goalie_max_moves</strong> times is considered as ungentlemanly
play.</p>
</div>
<div class="section" id="dash-model">
<h3><span class="section-number">4.5.2. </span>Dash Model<a class="headerlink" href="#dash-model" title="Permalink to this headline">¶</a></h3>
<p>The <strong>dash</strong> command is used to accelerate the player in direction of
its body.
<strong>dash</strong> takes the acceleration <em>power</em> as a parameter.
The valid range for the acceleration <em>power</em> can be configured in
<code class="docutils literal notranslate"><span class="pre">server.conf</span></code>, the respective parameters are <strong>server::min_dash_power</strong>
and <strong>server::max_dash_power</strong>.
For the current values of parameters for the dash model, see
the following table:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 24%" />
<col style="width: 37%" />
<col style="width: 10%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">Default Parameters</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">server.conf</span></code></div>
</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Default Value (Range)</div>
<div class="line"><br /></div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Heterogeneous Player Parameters</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">player.conf</span></code></div>
</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Value</div>
<div class="line"><br /></div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>server::min_dash_power</p></td>
<td><p>-100.0</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>server::max_dash_power</p></td>
<td><p>100.0</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>server::player_decay
server::inertia_moment</p></td>
<td><div class="line-block">
<div class="line">0.4 ([0.3, 0.5])</div>
<div class="line">5.0 ([2.5, 7.5])</div>
</div>
</td>
<td><div class="line-block">
<div class="line">player::player_decay_delta_min</div>
<div class="line">player::player_decay_delta_min</div>
<div class="line">player::inertia_moment_delta_factor</div>
</div>
</td>
<td><div class="line-block">
<div class="line">-0.1</div>
<div class="line">0.1</div>
<div class="line">25.0</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>server::player_accel_max</p></td>
<td><p>1.0</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>server::player_rand</p></td>
<td><p>0.1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>server::player_speed_max</p></td>
<td><p>1.05</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>server::player_speed_max_min</p></td>
<td><p>0.75</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>server::stamina_max</p></td>
<td><p>8000.0</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>server::stamina_capacity</p></td>
<td><p>130600.0</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">server::stamina_inc_max</div>
<div class="line">server::dash_power_rate</div>
</div>
</td>
<td><div class="line-block">
<div class="line">45.0  ([40.2, 52.2])</div>
<div class="line">0.006 ([0.0048, 0.0068])</div>
</div>
</td>
<td><div class="line-block">
<div class="line">player::new_dash_power_rate_delta_min</div>
<div class="line">player::new_dash_power_rate_delta_max</div>
<div class="line">player::new_stamina_inc_max_delta_factor</div>
</div>
</td>
<td><div class="line-block">
<div class="line">-0.0012</div>
<div class="line">0.0008</div>
<div class="line">-6000</div>
</div>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">server::extra_stamina</div>
<div class="line">server::effort_init</div>
<div class="line">server::effort_min</div>
</div>
</td>
<td><div class="line-block">
<div class="line">50.0  ([50.0, 100.0])</div>
<div class="line">1.0   ([0.8, 1.0])</div>
<div class="line">0.6   ([0.4, 0.6])</div>
</div>
</td>
<td><div class="line-block">
<div class="line">player::extra_stamina_delta_min</div>
<div class="line">player::extra_stamina_delta_max</div>
<div class="line">player::effort_max_delta_factor</div>
<div class="line">player::effort_min_delta_factor</div>
</div>
</td>
<td><div class="line-block">
<div class="line">0.0</div>
<div class="line">50.0</div>
<div class="line">-0.004</div>
<div class="line">-0.004</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>server::effort_dec</p></td>
<td><p>0.3</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>server::effort_dec_thr</p></td>
<td><p>0.005</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>server::effort_inc</p></td>
<td><p>0.01</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>server::effort_inc_thr</p></td>
<td><p>0.6</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>server::recover_dec_thr</p></td>
<td><p>0.3</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>server::recover_dec</p></td>
<td><p>0.002</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>server::recover_init</p></td>
<td><p>1.0</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>server::recover_min</p></td>
<td><p>0.5</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>server::wind_ang</p></td>
<td><p>0.0</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>server::wind_dir</p></td>
<td><p>0.0</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>server::wind_force</p></td>
<td><p>0.0</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>server::wind_rand</p></td>
<td><p>0.0</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Each player has a certain amount of stamina that will be consumed by
<strong>dash</strong> commands.
At the beginning of each half, the stamina of a player is set to
<strong>server::stamina_max</strong>.
If a player accelerates forward (<em>power</em> <span class="math notranslate nohighlight">\(&gt; 0\)</span>), stamina is
reduced by <em>power</em>.
Accelerating backwards (<em>power</em> <span class="math notranslate nohighlight">\(&lt; 0\)</span>) is more expensive for the
player: stamina is reduced by :math:<a href="#id4"><span class="problematic" id="id5">`</span></a>-2~cdot~`*power*.
If the player’s stamina is lower than the power needed for the
<strong>dash</strong>, <em>power</em> is reduced so that the <strong>dash</strong> command does not
need more stamina than available.
Some extra stamina can be used every time the available power is lower
than the needed stamina.
The amount of extra stamina depends on the player type and the
parameters <strong>player::extra_stamina_delta_min</strong> and
player::extra_stamina_delta_max**.</p>
<p>After reducing the stamina, the server calculates the <em>effective  dash
power</em> for the <strong>dash</strong> command.
The effective dash power <em>edp</em> depends on the <strong>dash_power_rate</strong> and the
current effort of the player.
The effort of a player is a value between <strong>effort_min</strong> and <strong>effort_max</strong>;
it is dependent on the stamina management of the player (see below).</p>
<div class="math notranslate nohighlight" id="equation-eq-effectivedash">
<span class="eqno">(4.4)<a class="headerlink" href="#equation-eq-effectivedash" title="Permalink to this equation">¶</a></span>\[{\rm edp} = {\rm effort} \cdot {\rm dash\_power\_rate} \cdot {\rm power}\]</div>
<p><em>edp</em> and the players current body direction are tranformed into vector and
added to the players current acceleration vector <span class="math notranslate nohighlight">\(\vec{a}_n\)</span>
(usually, that should be 0 before, since a player cannot dash more than once
a cycle and a player does not get accelerated by other means than dashing).</p>
<p>At the transition from simulation step <span class="math notranslate nohighlight">\(n\)</span> to simulation step
<span class="math notranslate nohighlight">\(n + 1\)</span>, acceleration <span class="math notranslate nohighlight">\(\vec{a}_n\)</span> is applied:</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(\vec{a}_n\)</span> is normalized to a maximum length of <strong>server::player_accel_max</strong>.</p></li>
<li><p><span class="math notranslate nohighlight">\(\vec{a}_n\)</span> is added to current players speed
<span class="math notranslate nohighlight">\(\vec{v}_n\)</span>. <span class="math notranslate nohighlight">\(\vec{v}_n\)</span> will be normalized to a
maximum length of <strong>player_speed_max</strong>.
players, the  maximum speed is a value between
<strong>server::player_speed_max</strong> +
<strong>player::player_speed_max_delta_min</strong> and
<strong>server::player_speed_max</strong> +
<strong>player::player_speed_max_delta_max</strong> in <code class="docutils literal notranslate"><span class="pre">player.conf</span></code>.</p></li>
<li><p>Noise <span class="math notranslate nohighlight">\(\vec{n}\)</span> and wind <span class="math notranslate nohighlight">\(\vec{w}\)</span> will be added to
<span class="math notranslate nohighlight">\(\vec{v}_{n}\)</span>. Both noise and wind are configurable in
<cite>server.conf</cite>. Parameters responsible for the wind are
<strong>server::wind_force</strong>, <strong>server::wind_dir</strong> and
<strong>server::wind_rand</strong>. With the current settings, there is no wind
on the simulated soccer field. The responsible parameter for the
noise is <strong>server::player_rand</strong>. Both direction and length
of the noise vector are within the interval
<span class="math notranslate nohighlight">\([ -|\vec{v}_{n}| \cdot {\rm player\_rand} \ldots |\vec{v}_{n}| \cdot {\rm player\_rand}]\)</span>.</p></li>
<li><p>The new position of the player <span class="math notranslate nohighlight">\(\vec{p}_{n+1}\)</span> is the old position
<span class="math notranslate nohighlight">\(\vec{p}_{n}\)</span> plus the velocity vector <span class="math notranslate nohighlight">\(\vec{v}_{n}\)</span>
(i.e.the maximum distance difference for the player between two
simulation steps is <strong>player_speed_max</strong>).</p></li>
<li><p><strong>player_decay</strong> is applied for the velocity of the player:
<span class="math notranslate nohighlight">\(\vec{v}_{n+1} = \vec{v}_{n} \cdot {\rm player\_decay}\)</span>.
Acceleration <span class="math notranslate nohighlight">\(\vec{a}_{n+1}\)</span> is set to zero.</p></li>
</ol>
<div class="section" id="sideward-and-omni-directional-dashes">
<h4>Sideward and Omni-Directional Dashes<a class="headerlink" href="#sideward-and-omni-directional-dashes" title="Permalink to this headline">¶</a></h4>
<p>Besides the forward and backward dashes that were already described in
the previous section, since version 13 the Soccer Server also supports the
possibility to perform sideward and even omni-directional dashes.
In addition to the already known
parameter of the <strong>dash(x)</strong> command where <span class="math notranslate nohighlight">\(x\in[-100,100]\)</span> determines
the relativ strength of the dash (with negative sign indicating a backward
dash), the omni-directional dash model uses two parameters to the <strong>dash</strong>
command:</p>
<div class="math notranslate nohighlight" id="equation-eq-omnidash">
<span class="eqno">(4.5)<a class="headerlink" href="#equation-eq-omnidash" title="Permalink to this equation">¶</a></span>\[dash(power,dir)\]</div>
<p>where <span class="math notranslate nohighlight">\(power\)</span> determines the relative strength of the dash
and <span class="math notranslate nohighlight">\(dir\)</span> represents the direction of the dash accelaration
relative to the player’s body
angle. The format in which the command needs to be sent to the Soccer Server
is <code class="docutils literal notranslate"><span class="pre">(dash</span> <span class="pre">&lt;power&gt;</span> <span class="pre">&lt;dir&gt;)</span></code>.
If a negative value is used for <span class="math notranslate nohighlight">\(power\)</span>, then the reverse side angle
of <span class="math notranslate nohighlight">\(dir\)</span>
will be used. Practically, the direction of the dash is restricted to by the
corresponding Soccer Server parameters to</p>
<div class="math notranslate nohighlight">
\[dir \in [server::min\_dash\_angle, server::max\_dash\_angle]\]</div>
<p>The effective power of the dash command is determined by the absolute value
of the dash direction. Players will always dash with full effective power
(100%) alongside their current body orientation, i.e. when using a zero
direction angle as described in the preceding section.
Two further Soccer Server parameters, <code class="docutils literal notranslate"><span class="pre">server::side_dash_rate</span></code>
and <code class="docutils literal notranslate"><span class="pre">server::back_dash_rate</span></code>, determine the
effective power that is applied when a non-straight dash is performed.</p>
<p>Thus, for example, strafing movements (90 degrees left/right to the player)
will be performed with 40% of effective power,
whereas backward dashes will performed with 60%
(according to current Soccer Server parameter default values).
For values between these four main
directions a linear interpolation of the effective power will be applied.
The following formula explains the maths behind the sideward dash model.</p>
<div class="math notranslate nohighlight" id="equation-eq-omnidasheffpower">
<span class="eqno">(4.6)<a class="headerlink" href="#equation-eq-omnidasheffpower" title="Permalink to this equation">¶</a></span>\[\begin{split}dir\_rate = \begin{cases}
               back\_dash\_rate - ( back\_dash\_rate - side\_dash\_rate ) * ( 1.0 - ( fabs( dir ) - 90.0 ) / 90.0 ) &amp; \text{if } fabs( dir ) &gt; 90.0 \\
               side\_dash\_rate + ( 1.0 - side\_dash\_rate ) * ( 1.0 - fabs( dir ) / 90.0 ) ) &amp; \text{else}
            \end{cases}\end{split}\]</div>
<p>As discussed in the description of the forward/backward dash model in the
preceding section, there exists the server parameter
<code class="docutils literal notranslate"><span class="pre">server::min_dash_power</span></code> which determines the highest minimal value
that can be used for the first parameter <span class="math notranslate nohighlight">\(power\)</span> of the dash command.
It is expected that
this parameter will be set to zero in future versions of the Soccer Server,
while, for reasons of compatibility with older team binaries, its default value
of -100 is encouraged currently.</p>
<p>Finally, the parameter <code class="docutils literal notranslate"><span class="pre">server::dash_angle_step</span></code> allows for a finer
discreteness
of players’ dash directions. If this value is set to 90.0 degrees, players are
allowed to dash into the four main directions, for a setting of 45.0 we
arrive at eight different directions. Setting this parameter to 1.0,
the Soccer Server is capable of emulating an omnidirectional movement
model as it is commen, for example, in the MidSize League.</p>
<p>The following table summarizes all Soccer Server parameters that are of
relevance for omni-directional dashing.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 24%" />
<col style="width: 37%" />
<col style="width: 10%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><div class="line-block">
<div class="line">Default Parameters</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">server.conf</span></code></div>
</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Default Value (Range)</div>
<div class="line"><br /></div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Heterogeneous Player Parameters</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">player.conf</span></code></div>
</div>
</div>
</th>
<th class="head"><div class="line-block">
<div class="line">Value</div>
<div class="line"><br /></div>
</div>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>server::server::max_dash_angle</p></td>
<td><p>180.0</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>server::server::min_dash_angle</p></td>
<td><p>-180.0</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>server::side_dash_rate</p></td>
<td><p>0.4</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>server::back_dash_rate</p></td>
<td><p>0.6</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>server::dash_angle_step</p></td>
<td><p>1</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="stamina-model">
<h4>Stamina Model<a class="headerlink" href="#stamina-model" title="Permalink to this headline">¶</a></h4>
<p>For the stamina of a player, there are three important variables: the
<em>stamina</em> value, <em>recovery</em> and <em>effort</em>.
<em>stamina</em> is decreased when dashing and gets replenished slightly each
cycle. <em>recovery</em> is responsible for how much the <em>stamina</em> recovers
each cycle, and the <em>effort</em> says how effective dashing is (see
section above).
Important parameters for the stamina model are changeable in the files
<code class="docutils literal notranslate"><span class="pre">server.conf</span></code> and <code class="docutils literal notranslate"><span class="pre">player.conf</span></code>.
Basically, the algorithm shown in the following code block says that
every simulation step the stamina is below some threshold, effort or
recovery are reduced until a minimum is reached.
Every step the stamina of the player is above some threshold, <em>effort</em>
is increased up to a maximum.
The <em>recovery</em> value is only reset to 1.0 each half, but it will not
be increased during a game.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># if stamina is below recovery decrement threshold, recovery is reduced</span>
<span class="k">if</span> <span class="n">stamina</span> <span class="o">&lt;=</span> <span class="n">recover_dec_thr</span> <span class="o">*</span> <span class="n">stamina_max</span>
  <span class="k">if</span> <span class="n">recovery</span> <span class="o">&gt;</span> <span class="n">recover_min</span>
     <span class="n">recovery</span> <span class="o">=</span> <span class="n">recovery</span> <span class="o">-</span> <span class="n">recover_dec</span>

<span class="c1"># if stamina is below effort decrement threshold, effort is reduced</span>
<span class="k">if</span> <span class="n">stamina</span> <span class="o">&lt;=</span> <span class="n">effort_dec_thr</span> <span class="o">*</span> <span class="n">stamina_max</span>
  <span class="k">if</span> <span class="n">effort</span> <span class="o">&gt;</span> <span class="n">effort_min</span>
    <span class="n">effort</span> <span class="o">=</span> <span class="n">effort</span> <span class="o">-</span> <span class="n">effort_dec</span>
      <span class="n">effort</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">effort</span><span class="p">,</span> <span class="n">effort_min</span><span class="p">)</span>

<span class="c1"># if stamina is above effort increment threshold, effort is increased</span>
<span class="k">if</span> <span class="n">stamina</span> <span class="o">&gt;=</span> <span class="n">effort_inc_thr</span> <span class="o">*</span> <span class="n">stamina</span>\<span class="n">_max</span>
  <span class="k">if</span> <span class="n">effort</span> <span class="o">&lt;</span> <span class="n">effort_max</span>
    <span class="n">effort</span> <span class="o">=</span> <span class="n">effort</span> <span class="o">+</span> <span class="n">effort_inc</span>
    <span class="n">effort</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">effort</span><span class="p">,</span> <span class="n">effort_max</span><span class="p">)</span>

<span class="c1"># recover the stamina a bit</span>
<span class="n">stamina_inc</span> <span class="o">=</span> <span class="n">recovery</span> <span class="o">*</span> <span class="n">stamina_inc_max</span>
<span class="n">stamina</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">stamina</span> <span class="o">+</span> <span class="n">stamina_inc</span><span class="p">,</span> <span class="n">stamina_max</span><span class="p">)</span>
</pre></div>
</div>
<p>In rcssserver version 13 or later, the <strong>stamina_capacity</strong> variable
has been implemented as one of the player’s stamina models in addition to the above
three <em>stamina</em> variables.
<em>stamina_capacity</em> is defined as the maximum recovery capacity of each player’s stamina.
When a player’s <em>stamina</em> is recovered during a game, the same amount of <em>stamina</em> is also consumed from one’s <em>stamina_capacity</em>.
Once the player’s <em>stamina_capacity</em> becomes 0, one’s stamina is never recovered and the only <strong>extra_stamina</strong> is consumed instead of the normal <em>stamina</em>.
The updated algorithm is shown in the following code block.
<code class="docutils literal notranslate"><span class="pre">stamina_inc</span></code> can be available from the previous code block.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># stamina_inc is restricted by the residual capacity</span>
<span class="k">if</span> <span class="n">stamina_capacity</span> <span class="o">&gt;=</span> <span class="mf">0.0</span>
  <span class="k">if</span> <span class="n">stamina_inc</span> <span class="o">&gt;</span> <span class="n">stamina_capacity</span>
    <span class="n">stamina_inc</span> <span class="o">=</span> <span class="n">stamina_capacity</span>
<span class="n">stamina</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">stamina</span> <span class="o">+</span> <span class="n">stamina_inc</span><span class="p">,</span> <span class="n">stamina_max</span><span class="p">)</span>

<span class="c1"># stamina capacity is reduced as the same amount as stamina_inc</span>
<span class="k">if</span> <span class="n">stamina_capacity</span> <span class="o">&gt;=</span> <span class="mf">0.0</span>
  <span class="n">stamina_capacity</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">stamina_capacity</span> <span class="o">-</span> <span class="n">stamina_inc</span><span class="p">)</span>
</pre></div>
</div>
<p><em>stamina_capacity</em> is reset to the initial value just after the kick-off of normal halves as well as the other stamina-related variables.
However, <em>stamina_capacity</em> is never recovered at the half time of extra-inning games and before the penalty shootouts.
The <em>stamina_capacity</em> is defined as one of the parameters of rcssserver <strong>server::stamina_capacity</strong> (the default value of <em>stamina_capacity</em> is 130600 as of rcsserver version 16.0.0).
If <em>server::stamina_capacity</em> is set to a negative value, each player has an infinite stamina capacity.
This setting makes the stamina-model including stamina_capacity
completely the same with the stamina model before rcssserver version 13.
<em>stamina_capacity</em> information is received as the following <em>sense_body message</em>:</p>
<blockquote>
<div><p>(stamina &lt;STAMINA&gt; &lt;EFFORT&gt; &lt;CAPACITY&gt;)</p>
</div></blockquote>
</div>
</div>
<div class="section" id="kick-model">
<span id="sec-kickmodel"></span><h3><span class="section-number">4.5.3. </span>Kick Model<a class="headerlink" href="#kick-model" title="Permalink to this headline">¶</a></h3>
<p><strong>TODO</strong></p>
</div>
<div class="section" id="move-model">
<h3><span class="section-number">4.5.4. </span>Move Model<a class="headerlink" href="#move-model" title="Permalink to this headline">¶</a></h3>
<p>The <em>move command</em> can be used to place a player directly onto a desired position on the field. move exists to set up the team and does not work during normal play. It is available at the beginning of each half (play mode <code class="docutils literal notranslate"><span class="pre">before_kick_off</span></code>’) and after a goal has been scored (play modes <code class="docutils literal notranslate"><span class="pre">goal_l_?</span></code> or <code class="docutils literal notranslate"><span class="pre">goal_r_?</span></code> ’). In these situations, players can be placed on any position in their own half (i.e. X &lt; 0) and can be moved any number of times, as long as the play mode does not change. Players moved to a position on the opponent half will be set to a random position on their own side by the server.
A second purpose of the <em>move command</em> is to move the goalie within the penalty area after the goalie caught the ball. If the goalie caught the ball, it can move together with the ball within the penalty area. The goalie is allowed to move <em>goalie_max_moves</em> times before it kicks the ball. Additional <em>move commands</em> do not have any effect and the server will respond with (error too_many_moves).</p>
<table class="docutils align-default" id="id6">
<caption><span class="caption-number">Table 4.5 </span><span class="caption-text">Parameter for the move_command</span><a class="headerlink" href="#id6" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 82%" />
<col style="width: 18%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter in <code class="docutils literal notranslate"><span class="pre">server.conf</span></code></p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>goalie_max_moves</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="say-model">
<h3><span class="section-number">4.5.5. </span>Say Model<a class="headerlink" href="#say-model" title="Permalink to this headline">¶</a></h3>
<p>Using the <em>say command</em>, players can broadcast messages to other players. Messages can be say_msg_size characters long, where valid characters for say messages are from the set sth (without the square brackets). Messages players say can be heard within a distance of <em>audio_cut_dist</em> by members of both teams . <strong>Say messages</strong> sent to the server will be sent back to players within that distance immediately. The use of the <em>say command</em> is only restricted by the limited capacity of the players of hearing messages.</p>
<table class="docutils align-default" id="id7">
<caption><span class="caption-number">Table 4.6 </span><span class="caption-text">Parameter for the say command</span><a class="headerlink" href="#id7" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 82%" />
<col style="width: 18%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter in <code class="docutils literal notranslate"><span class="pre">server.conf</span></code></p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>say_msg_size</p></td>
<td><p>10</p></td>
</tr>
<tr class="row-odd"><td><p>audio_cut_dist</p></td>
<td><p>50</p></td>
</tr>
<tr class="row-even"><td><p>hear_max</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>hear_inc</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>hear_decay</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="tackle-model">
<h3><span class="section-number">4.5.6. </span>Tackle Model<a class="headerlink" href="#tackle-model" title="Permalink to this headline">¶</a></h3>
<p>The tackle command is to accelerate the ball towards the player’s body. Players can kick the ball that can not be kicked with the kick command by executing the tackle command. The success of tackle depends on a random probability related to the position of the ball. It can be obtained by the following formula.</p>
<p>The probability of a tackle failure when the ball is in front of the player is:</p>
<div class="math notranslate nohighlight">
\[{\rm fail\_prob = (player\_to\_ball.x \div tackle\_dist)^{tackle\_exponent} + (player\_to\_ball.y \div tackle\_width)^{tackle\_exponent}}\]</div>
<p>The probability of a tackle failure when the ball is behind the player is:</p>
<div class="math notranslate nohighlight">
\[{\rm fail\_prob = (player\_to\_ball.x \div tackle\_back\_dist)^{tackle\_exponent} + (player\_to\_ball.y \div tackle\_back\_width)^{tackle\_exponent}}\]</div>
<p>The probability of processing success is:</p>
<div class="math notranslate nohighlight">
\[{\rm tackle\_prob = 1.0 – fail\_prob}\]</div>
<p>In this case, when the ball is in front of the player, it is used to <em>tackle_dist</em> (default is 2.0), otherwise it is used to <strong>tackle_back_dist</strong> (default is 0.5); <strong>player_to_ball</strong> is a vector from the player to the ball, relative to the body direction of the player. When the tackle command is successful, it will give the ball an acceleration in its own body direction.</p>
<p>The execution effect of tackle is similar to that of kick, which is obtained by multiplying the parameter <strong>tackle_power_rate</strong> (default is 0.027) with power. It can be expressed by the following formula:</p>
<div class="math notranslate nohighlight">
\[{\rm effective\_power} = {\rm power} \times {\rm tackle\_power\_rate}\]</div>
<p>Once the player executes the tackle command, whether successful or not, the player can no longer move within 10 cycles. The following table shows the parameters used in tackle command.</p>
<table class="docutils align-default" id="id8">
<caption><span class="caption-number">Table 4.7 </span><span class="caption-text">Parameters for the tackle command</span><a class="headerlink" href="#id8" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 82%" />
<col style="width: 18%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter in <code class="docutils literal notranslate"><span class="pre">server.conf</span></code></p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>tackle_dist</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>tackle_back_dist</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>tackle_width</p></td>
<td><p>1.25</p></td>
</tr>
<tr class="row-odd"><td><p>tackle_cycles</p></td>
<td><p>10</p></td>
</tr>
<tr class="row-even"><td><p>tackle_exponent</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-odd"><td><p>tackle_power_rate</p></td>
<td><p>0.027</p></td>
</tr>
<tr class="row-even"><td><p>max_tackle_power</p></td>
<td><p>100</p></td>
</tr>
<tr class="row-odd"><td><p>max_back_tackle_power</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>tackle_rand_factor</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="turn-model">
<h3><span class="section-number">4.5.7. </span>Turn Model<a class="headerlink" href="#turn-model" title="Permalink to this headline">¶</a></h3>
<p>While <em>dash</em> is used to accelerate the player in direction of its
body, the <em>turn command</em> is used to change the players body direction.
The argument for the turn command is the moment; valid values for the
moment are between <strong>server::minmoment</strong> and <strong>server::maxmoment</strong>.
If the player does not move, the moment is equal to the angle the
player will turn. However, there is a concept of inertia that makes it
more difficult to turn when you are moving.
Specifically, the actual angle the player is turned is as follows:</p>
<div class="math notranslate nohighlight">
\[{\rm actual\_angle} = {\rm moment \div (1.0 + inertia\_moment} \times {\rm player\_speed)}\]</div>
<p><strong>server::inertia_moment</strong> is a server.conf parameter with default
value 5.0.
Therefore (with default values), when the player is at speed 1.0, the
<em>maximum effective</em> turn he can do is <span class="math notranslate nohighlight">\(\pm30\)</span>.
However, notice that because you can not dash and turn during the same
cycle, the fastest that a player can be going when executing a turn is
<span class="math notranslate nohighlight">\(player_speed_max \dot player\_decay\)</span>, which means the effective turn for a default player
(with default values) is <span class="math notranslate nohighlight">\(\pm60\)</span>.</p>
<p>For heterogeneous players, the inertia moment is the default inertia
value plus a value between
<span class="math notranslate nohighlight">\({\rm player\_decay\_delta\_min \times inertia\_moment\_delta\_factor}\)</span> and
<span class="math notranslate nohighlight">\({\rm player\_decay\_delta\_max \times inertia\_moment\_delta\_factor}\)</span>.</p>
<table class="docutils align-default" id="id9">
<caption><span class="caption-number">Table 4.8 </span><span class="caption-text">Turn Model Parameter</span><a class="headerlink" href="#id9" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 27%" />
<col style="width: 15%" />
<col style="width: 41%" />
<col style="width: 9%" />
<col style="width: 9%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Basic Parameter <code class="docutils literal notranslate"><span class="pre">server.conf</span></code></p></th>
<th class="head" colspan="3"><p>Parameter for heterofenous <code class="docutils literal notranslate"><span class="pre">player.conf</span></code></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Name</p></td>
<td><p>Value</p></td>
<td><p>Name</p></td>
<td><p>Value</p></td>
<td><p>Range</p></td>
</tr>
<tr class="row-odd"><td><p>minmoment</p></td>
<td><div class="line-block">
<div class="line">-180</div>
</div>
</td>
<td><div class="line-block">
<div class="line">player_decay_delta_min</div>
</div>
</td>
<td><div class="line-block">
<div class="line">0.0</div>
</div>
</td>
<td><div class="line-block">
<div class="line">5</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>maxmoment</p></td>
<td><div class="line-block">
<div class="line">180</div>
</div>
</td>
<td><div class="line-block">
<div class="line">player_decay_delta_max</div>
</div>
</td>
<td><div class="line-block">
<div class="line">0.4</div>
</div>
</td>
<td><div class="line-block">
<div class="line">1</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>inertia_moment</p></td>
<td><div class="line-block">
<div class="line">5.0</div>
</div>
</td>
<td><div class="line-block">
<div class="line">inertia_moment_delta_factor</div>
</div>
</td>
<td><div class="line-block">
<div class="line">25</div>
</div>
</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="turnneck-model">
<h3><span class="section-number">4.5.8. </span>TurnNeck Model<a class="headerlink" href="#turnneck-model" title="Permalink to this headline">¶</a></h3>
<p>With <em>turn_neck</em>, a player can turn its neck somewhat independently of
its body.
The angle of the head of the player is the viewing angle of the
player.
The <em>turn command</em> changes the angle of the body of the player while
turn_neck changes the neck angle of the player relative to its body.
The <strong>minimum</strong> and <strong>maximum</strong> relative angle for the player’s neck
are given by <strong>server::minneckang</strong> and <strong>server::maxneckang</strong> in
server.conf.
Remember that the neck angle is relative to the body of the player so
if the client issues a <em>turn command</em>, the viewing angle changes even
if no turn_neck command was issued.
Also, <em>turn_neck commands</em> can be executed during the same cycle as
turn, dash, and <em>kick commands</em>.
turn_neck is not affected by momentum like turn is.
The argument for a <em>turn_neck command</em> must be in the range between
<strong>server::minneckmoment</strong> and <strong>server::maxneckmoment</strong>.</p>
<table class="docutils align-default" id="id10">
<caption><span class="caption-number">Table 4.9 </span><span class="caption-text">Parameter for the turn neck command</span><a class="headerlink" href="#id10" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 82%" />
<col style="width: 18%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter in <code class="docutils literal notranslate"><span class="pre">server.conf</span></code></p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>minneckang</p></td>
<td><p>-90</p></td>
</tr>
<tr class="row-odd"><td><p>maxneckang</p></td>
<td><p>90</p></td>
</tr>
<tr class="row-even"><td><p>minneckmoment</p></td>
<td><p>-180</p></td>
</tr>
<tr class="row-odd"><td><p>maxneckmoment</p></td>
<td><p>180</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="heterogeneous-players">
<span id="sec-heterogeneousplayers"></span><h2><span class="section-number">4.6. </span>Heterogeneous Players<a class="headerlink" href="#heterogeneous-players" title="Permalink to this headline">¶</a></h2>
<p>With the rcssserver version 7, heterogeneous players were introduced.
For heterogeneous players, the server generates
<strong>player::player_types</strong> random player types at startup.
The player types have different capabilities based on the trade-offs
defined in the player.conf file.
Both teams of a match use the same player types.
Type 0 is the default type and is always the same.
If <strong>player::random_seed</strong> is not 0, the fixed set of heterogenous
player paramters can be generated based on the given seed value.
<a class="reference internal" href="#tab-hetero"><span class="std std-numref">Table 4.10</span></a> shows the differences of heterogeneous players:</p>
<p>When players and coaches connect to the server, they can receive
information about the available player types.
The online coaches can change player types unlimited times before the
first kick off and change player types <strong>player::subs_max</strong> times
during other non-<cite>play_on</cite> play modes using the <cite>change_player_type</cite>
command (see <span class="xref std std-ref">sec-coachcommand</span>).</p>
<p>The online coach can substitute a same player type within
<strong>player::pt_max</strong> times.
This restriction also applied to the default player type.
This means that all field players have to be changed to the
non-default type.
In version 16, the goalie is still allowed to be assigned the default type.
However, if server::allow_mult_default_type is false and teams
use the default player type more than player::pt_max, rcssserver
automatically assign the heterogeneous player type to field
players just before the playmode is changed to kick-off.</p>
<p>The online coach can substitute a same player type within
<strong>player::pt_max</strong> times.
This restriction is not applied to the default player type.
If player::pt_max is 1, each player type except the default type can be used only once.</p>
<p>Each time a player is substituted by some other player type, its
stamina, recovery and effort is reset to the initial (maximum) value
of the respective player type.</p>
<table class="docutils align-default" id="tab-hetero">
<caption><span class="caption-number">Table 4.10 </span><span class="caption-text">The parameter differences of heterogeneous players</span><a class="headerlink" href="#tab-hetero" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PlayerSpeedMax</p></td>
<td><p>maximum speed</p></td>
</tr>
<tr class="row-odd"><td><p>StaminaIncMax</p></td>
<td><p>Amount of stamina recovered in one step</p></td>
</tr>
<tr class="row-even"><td><p>PlayerDecay</p></td>
<td><p>Player speed decay rate</p></td>
</tr>
<tr class="row-odd"><td><p>InertiaMoment</p></td>
<td><p>Player inertia force when moving</p></td>
</tr>
<tr class="row-even"><td><p>DashPowerRate</p></td>
<td><p>Dash acceleration rate</p></td>
</tr>
<tr class="row-odd"><td><p>PlayerSize</p></td>
<td><p>Player size</p></td>
</tr>
<tr class="row-even"><td><p>KickableMargin</p></td>
<td><p>Kickable area radius</p></td>
</tr>
<tr class="row-odd"><td><p>KickRand</p></td>
<td><p>The amount of noise added to the kick</p></td>
</tr>
<tr class="row-even"><td><p>ExtraStamina</p></td>
<td><p>Extra stamina available when stamina is exhausted</p></td>
</tr>
<tr class="row-odd"><td><p>EffortMax</p></td>
<td><p>Maximum value of the player’s effort amount</p></td>
</tr>
<tr class="row-even"><td><p>EffortMin</p></td>
<td><p>The minimum amount of effort for the player</p></td>
</tr>
<tr class="row-odd"><td><p>CatchAreaLengthStretch</p></td>
<td><p>Streach Length to Catch</p></td>
</tr>
<tr class="row-even"><td><p>KickPowerRate</p></td>
<td><p>Kick Power Rate</p></td>
</tr>
<tr class="row-odd"><td><p>FoulDetectProbability</p></td>
<td><p>Probability that the referee will take the foul</p></td>
</tr>
</tbody>
</table>
<p>Heterogeneous player parameters given for each match are different.
Therefore, each agent does not necessarily have the parameters needed to implement the tactics.
Whatever the situation, you need a way to choose the best combination of heterogeneous players.</p>
<table class="docutils align-default" id="id11">
<caption><span class="caption-number">Table 4.11 </span><span class="caption-text">Parameter for substitutions and heterogeneous player types</span><a class="headerlink" href="#id11" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 76%" />
<col style="width: 24%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter in player.conf</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>player_types</p></td>
<td><p>18</p></td>
</tr>
<tr class="row-odd"><td><p>subs_max</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-even"><td><p>pt_max</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="referee-model">
<h2><span class="section-number">4.7. </span>Referee Model<a class="headerlink" href="#referee-model" title="Permalink to this headline">¶</a></h2>
<p>The Automated Referee sends messages to the players, so that players know the actual
play mode of the game. The rules and the behavior for the automated referee are
described in Sec. <a class="reference internal" href="overview.html#sec-overview-referee"><span class="std std-ref">Kick-Off</span></a>.
Players receive the referee messages as hear messages.
A player can hear referee messages in every situation independent of
the number of messages the player heard from other players.</p>
<div class="section" id="play-modes-and-referee-messages">
<span id="sec-playmodes"></span><h3><span class="section-number">4.7.1. </span>Play Modes and referee messages<a class="headerlink" href="#play-modes-and-referee-messages" title="Permalink to this headline">¶</a></h3>
<p>The change of the play mode is announced by the referee. Additionally, there are some
referee messages announcing events like a goal or a foul. If you have a look into the
server source code, you will notice some additional play modes that are currently not
used. Both play modes and referee messages are announced using (referee String ),
where String is the respective play mode or message string. The play modes are listed
in <a class="reference internal" href="#tab-playmode"><span class="std std-numref">Table 4.12</span></a>, for the messages see <a class="reference internal" href="#tab-refereemessages"><span class="std std-numref">Table 4.13</span></a>.</p>
<table class="docutils align-default" id="tab-playmode">
<caption><span class="caption-number">Table 4.12 </span><span class="caption-text">Play Modes</span><a class="headerlink" href="#tab-playmode" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 27%" />
<col style="width: 6%" />
<col style="width: 24%" />
<col style="width: 43%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Play Mode</p></th>
<th class="head"><p>tc</p></th>
<th class="head"><p>subsequent play mode</p></th>
<th class="head"><p>comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>before_kick_off</p></td>
<td><p>0</p></td>
<td><p>kick_off_*Side*</p></td>
<td><p>at the beginning of a half</p></td>
</tr>
<tr class="row-odd"><td><p>play_on</p></td>
<td></td>
<td></td>
<td><p>during normal play</p></td>
</tr>
<tr class="row-even"><td><p>time_over</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>kick_off_*Side*</p></td>
<td></td>
<td></td>
<td><p>announce start of play
(after pressing the Kick Off button)</p></td>
</tr>
<tr class="row-even"><td><p>kick_in_*Side*</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>free_kick_*Side*</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>corner_kick_*Side*</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>goal_kick_*Side*</p></td>
<td></td>
<td><p>play_on</p></td>
<td><p>play mode changes once
the ball leaves the penalty area</p></td>
</tr>
<tr class="row-even"><td><p>goal_*Side*</p></td>
<td></td>
<td></td>
<td><p>currently unused</p></td>
</tr>
<tr class="row-odd"><td><p>drop_ball</p></td>
<td><p>0</p></td>
<td><p>play_on</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>offside_*Side*</p></td>
<td><p>30</p></td>
<td><p>free_kick_*Side*</p></td>
<td><p>for the opposite side</p></td>
</tr>
</tbody>
</table>
<p>where Side is either the character <em>l</em> or <em>r</em>, OSide means opponent’s side.
tc is the time (in number of cycles) until the subsequent play mode will be announced</p>
<table class="docutils align-default" id="tab-refereemessages">
<caption><span class="caption-number">Table 4.13 </span><span class="caption-text">Referee Messages</span><a class="headerlink" href="#tab-refereemessages" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 27%" />
<col style="width: 6%" />
<col style="width: 24%" />
<col style="width: 43%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Message</p></th>
<th class="head"><p>tc</p></th>
<th class="head"><p>subsequent play mode</p></th>
<th class="head"><p>comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>goal_*Side*_*n*</p></td>
<td><p>50</p></td>
<td><p>kick_off_*OSide*</p></td>
<td><p>announce the <em>n</em> th goal for a team</p></td>
</tr>
<tr class="row-odd"><td><p>foul_*Side*</p></td>
<td><p>0</p></td>
<td><p>free_kick_*OSide*</p></td>
<td><p>announce a foul</p></td>
</tr>
<tr class="row-even"><td><p>goalie_catch_ball_*Side*</p></td>
<td><p>0</p></td>
<td><p>free_kick_*OSide*</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>time_up_without_a_team</p></td>
<td><p>0</p></td>
<td><p>time_over</p></td>
<td><p>sent if there was no opponent until
the end of the second half</p></td>
</tr>
<tr class="row-even"><td><p>time_up</p></td>
<td><p>0</p></td>
<td><p>time_over</p></td>
<td><p>sent once the game is over
(if the time is ≥ second half and
the scores for each team are different)</p></td>
</tr>
<tr class="row-odd"><td><p>half_time</p></td>
<td><p>0</p></td>
<td><p>before_kick_off</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>time_extended</p></td>
<td><p>0</p></td>
<td><p>before_kick_off</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>where <em>Side</em> is either the character <cite>l</cite> or <cite>r</cite>, <em>OSide</em> means opponent’s side.
tc is the time (in number of cycles) until the subsequent play mode will be announced.</p>
</div>
<div class="section" id="illegal-defense-referee">
<h3><span class="section-number">4.7.2. </span>Illegal Defense Referee<a class="headerlink" href="#illegal-defense-referee" title="Permalink to this headline">¶</a></h3>
<p>From the server version 16, a new referee module has been added to control the number of defensive players.
We have four new variables in <strong>server_param</strong> to change the parameters of this referee.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">server</span><span class="p">::</span><span class="n">illegal_defense_duration</span> <span class="o">=</span> <span class="mi">20</span>
</pre></div>
</div>
<p>This parameter determines the number of cycles that illegal defense situation would have to remain before calling a free kick.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">server</span><span class="p">::</span><span class="n">illegal_defense_number</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<p>This parameter determines how many players would need to be
in the specified zone before the illegal defense situation countdown
starts.
If the value is set to 0, the referee never detects illegal defense situations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">server</span><span class="p">::</span><span class="n">illegal_defense_dist_x</span> <span class="o">=</span> <span class="mf">16.5</span>
</pre></div>
</div>
<p>This parameter determines the distance from the field’s goal lines for
detecting defensive players.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">server</span><span class="p">::</span><span class="n">illegal_defense_width</span> <span class="o">=</span> <span class="mf">40.32</span>
</pre></div>
</div>
<p>This parameter determines the horizontal distance from the horizontal
symmetry line for detecting defensive players.</p>
<div class="section" id="rules">
<h4>Rules<a class="headerlink" href="#rules" title="Permalink to this headline">¶</a></h4>
<p>If defensive players exists within the rectangle defined by
<strong>illegal_defense_dist_x</strong> and <strong>illegal_defense_width</strong>, they are
marked as an illegal state.
if the number of markerd players becomes greater than or equal to
<strong>illegal_defense_number</strong> and this continues for
<strong>illegal_defense_duration</strong> cycles, then play mode will change to
<strong>free_kick_[lr]</strong> for the offensive team.</p>
<p>A team is considered as the offensive team when their player is the latest player to kick the ball.
If both teams perform a kick on the same cycle, neither team is considered as offensive, and the countdown resets.
The above rule is applied to the tackle action too.
The change of play mode does not affect cycles of illegal defense situations.</p>
</div>
</div>
</div>
<div class="section" id="the-soccer-simulation">
<h2><span class="section-number">4.8. </span>The Soccer Simulation<a class="headerlink" href="#the-soccer-simulation" title="Permalink to this headline">¶</a></h2>
<p>In Sec. 4.4, we gave a description on how the objects are moved with respect to their accelerations and velocities. In this section, we describe at what point in time acceleration
and velocities are applied to the objects during the simulation.</p>
<div class="section" id="description-of-the-simulation-algorithm">
<h3><span class="section-number">4.8.1. </span>Description of the simulation algorithm<a class="headerlink" href="#description-of-the-simulation-algorithm" title="Permalink to this headline">¶</a></h3>
<p>In Soccer Server, time is updated in discrete steps. A simulation step is 100ms. During
each simulation step, objects (i.e. players and the ball) stay on their positions. If
players decide to act within a step, actions are applied to the players and the ball at the
transition from one simulation cycle to the next. Depending on the play mode, not all
actions are allowed for the players (for instance in ‘before kick off’ mode, players can
<strong>turn</strong> and <strong>move</strong>, but they cannot <strong>dash</strong>), so only allowed actions will be applied and
take effect.
If during a step, several players kick the ball, all the kicks are applied to the ball
and a resulting acceleration is calculated. If the resulting acceleration is larger than the
maximum acceleration for the ball, acceleration is normalized to its maximum value.
After moving the objects, the server checks for collisions and updates velocities if a
collision occurred (see also Sec. 4.4.2).
When applying accelerations and velocities to the objects, the order of application is
randomized. After changing objects positions, and updating velocities and accelerations,
the automated referee checks the situation and changes the play mode or the object
positions, if necessary. Changes to the play mode are announced immediately. Finally,
stamina for each player is updated.</p>
<p>In Soccer Server, time is updated in discrete steps. A simulation step is 100ms. During each simulation step, objects (i.e. players and the ball) stay on their positions. If players decide to act within a step, actions are applied to the players and the ball at the transition from one simulation cycle to the next. Depending on the play mode, not all actions are allowed for the players (for instance in <code class="docutils literal notranslate"><span class="pre">before_kick_off</span></code> mode, players can <strong>turn</strong> and <strong>move</strong>, but they cannot <strong>dash</strong>), so only allowed actions will be applied and take effect.</p>
<p>If during a step, several players kick the ball, all the kicks are applied to the ball and a resulting acceleration is calculated. If the resulting acceleration is larger than the maximum acceleration for the ball, acceleration is normalized to its maximum value. After moving the objects, the server checks for collisions and updates velocities if a collision occurred (see also Sec. 4.4.2).</p>
<p>When applying accelerations and velocities to the objects, the order of application is randomized. After changing objects positions, and updating velocities and accelerations, the automated referee checks the situation and changes the play mode or the object positions, if necessary. Changes to the play mode are announced immediately. Finally, stamina for each player is updated.</p>
</div>
</div>
<div class="section" id="using-soccerserver">
<h2><span class="section-number">4.9. </span>Using Soccerserver<a class="headerlink" href="#using-soccerserver" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-soccerserver-parameters">
<h3><span class="section-number">4.9.1. </span>The Soccerserver Parameters<a class="headerlink" href="#the-soccerserver-parameters" title="Permalink to this headline">¶</a></h3>
<table class="colwidths-given docutils align-default" id="id12">
<caption><span class="caption-number">Table 4.14 </span><span class="caption-text">Parameters adjustable in <code class="docutils literal notranslate"><span class="pre">server.conf</span></code></span><a class="headerlink" href="#id12" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 40%" />
<col style="width: 8%" />
<col style="width: 12%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Default Value</p></th>
<th class="head"><p>Current Value  in <code class="docutils literal notranslate"><span class="pre">server.conf</span></code></p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>goal_width</p></td>
<td><p>7.32</p></td>
<td><p>14.0</p></td>
<td><p>goal width</p></td>
</tr>
<tr class="row-odd"><td><p>player_size</p></td>
<td></td>
<td><p>0.3</p></td>
<td><p>player size</p></td>
</tr>
<tr class="row-even"><td><p>player_decay</p></td>
<td></td>
<td><p>0.4</p></td>
<td><p>player decay</p></td>
</tr>
<tr class="row-odd"><td><p>player_rand</p></td>
<td></td>
<td><p>0.1</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>playerـweight</p></td>
<td></td>
<td><p>60.0</p></td>
<td><p>player weight</p></td>
</tr>
<tr class="row-odd"><td><p>playerـspeedـmax</p></td>
<td></td>
<td><p>1.0</p></td>
<td><p>max. player velocity</p></td>
</tr>
<tr class="row-even"><td><p>player-accelـmax</p></td>
<td></td>
<td><p>1.0</p></td>
<td><p>max. player acceleration</p></td>
</tr>
<tr class="row-odd"><td><p>playerـaccelـmax</p></td>
<td></td>
<td><p>1.0</p></td>
<td><p>max. player acceleration</p></td>
</tr>
<tr class="row-even"><td><p>staminaـmax</p></td>
<td></td>
<td><p>4000.0</p></td>
<td><p>max. player stamina</p></td>
</tr>
<tr class="row-odd"><td><p>staminaـincـmax</p></td>
<td></td>
<td><p>45.0</p></td>
<td><p>max. player stamina increment</p></td>
</tr>
<tr class="row-even"><td><p>recoverـdecـthr</p></td>
<td></td>
<td><p>0.3</p></td>
<td><p>player recovery decrement threshold</p></td>
</tr>
<tr class="row-odd"><td><p>recover_min</p></td>
<td></td>
<td><p>0.5</p></td>
<td><p>min. player recovery</p></td>
</tr>
<tr class="row-even"><td><p>recover_dec</p></td>
<td></td>
<td><p>0.002</p></td>
<td><p>player recovery decrement</p></td>
</tr>
<tr class="row-odd"><td><p>effort_dec_thr</p></td>
<td></td>
<td><p>0.3</p></td>
<td><p>player dash effort decrement threshold</p></td>
</tr>
<tr class="row-even"><td><p>effort_min</p></td>
<td></td>
<td><p>0.6</p></td>
<td><p>min. player dash effort</p></td>
</tr>
<tr class="row-odd"><td><p>effort_dec</p></td>
<td></td>
<td><p>0.005</p></td>
<td><p>dash effort decrement</p></td>
</tr>
<tr class="row-even"><td><p>effort_inc_thr</p></td>
<td></td>
<td><p>0.6</p></td>
<td><p>dash effort increment treshold</p></td>
</tr>
<tr class="row-odd"><td><p>effort_inc</p></td>
<td></td>
<td><p>0.01</p></td>
<td><p>dash effort increment</p></td>
</tr>
<tr class="row-even"><td><p>kick_rand</p></td>
<td></td>
<td><p>0.0</p></td>
<td><p>noise added directly to kicks</p></td>
</tr>
<tr class="row-odd"><td><p>team_actuator_noise</p></td>
<td></td>
<td></td>
<td><p>flag whether to use team speci c actuator noise</p></td>
</tr>
<tr class="row-even"><td><p>prand_factor_l</p></td>
<td></td>
<td></td>
<td><p>factor to multiply prand for left team</p></td>
</tr>
<tr class="row-odd"><td><p>prand_factor_r</p></td>
<td></td>
<td></td>
<td><p>factor to multiply prand for right team</p></td>
</tr>
<tr class="row-even"><td><p>kick_rand_factor_l</p></td>
<td></td>
<td></td>
<td><p>factor to multiply kick rand for left team</p></td>
</tr>
<tr class="row-odd"><td><p>kick_rand_factor_r</p></td>
<td></td>
<td></td>
<td><p>factor to multiply kick rand for right team</p></td>
</tr>
<tr class="row-even"><td><p>ball_size</p></td>
<td></td>
<td><p>0.085</p></td>
<td><p>ball size</p></td>
</tr>
<tr class="row-odd"><td><p>ball_decay</p></td>
<td></td>
<td><p>0.94</p></td>
<td><p>ball decay</p></td>
</tr>
<tr class="row-even"><td><p>ball_rand</p></td>
<td></td>
<td><p>0.05</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>ballـweight</p></td>
<td></td>
<td><p>0.2</p></td>
<td><p>weight of the ball</p></td>
</tr>
<tr class="row-even"><td><p>ballـspeedـmax</p></td>
<td></td>
<td><p>2.7</p></td>
<td><p>max. ball velocity</p></td>
</tr>
<tr class="row-odd"><td><p>ballـaccelـmax</p></td>
<td></td>
<td><p>2.7</p></td>
<td><p>max. ball acceleration</p></td>
</tr>
<tr class="row-even"><td><p>dashـpowerـrate</p></td>
<td></td>
<td><p>0.006</p></td>
<td><p>dash power rate</p></td>
</tr>
<tr class="row-odd"><td><p>kickـpowerـrate</p></td>
<td></td>
<td><p>0.027</p></td>
<td><p>kick power rate</p></td>
</tr>
<tr class="row-even"><td><p>kickableـmargin</p></td>
<td></td>
<td><p>0.7</p></td>
<td><p>kickable margin</p></td>
</tr>
<tr class="row-odd"><td><p>controlـradius</p></td>
<td></td>
<td></td>
<td><p>control radius</p></td>
</tr>
<tr class="row-even"><td><p>catchـprobability</p></td>
<td></td>
<td><p>1.0</p></td>
<td><p>goalie catch probability</p></td>
</tr>
<tr class="row-odd"><td><p>catchableـareaـl</p></td>
<td></td>
<td><p>2.0</p></td>
<td><p>goalie catchable area length</p></td>
</tr>
<tr class="row-even"><td><p>catchableـareaـw</p></td>
<td></td>
<td><p>1.0</p></td>
<td><p>goalie catchable area width</p></td>
</tr>
<tr class="row-odd"><td><p>goalieـmaxـmoves</p></td>
<td></td>
<td><p>2</p></td>
<td><p>goalie max. moves after a catch</p></td>
</tr>
<tr class="row-even"><td><p>maxpower</p></td>
<td></td>
<td><p>100</p></td>
<td><p>max power</p></td>
</tr>
<tr class="row-odd"><td><p>minpower</p></td>
<td></td>
<td><p>-100</p></td>
<td><p>min power</p></td>
</tr>
<tr class="row-even"><td><p>maxmoment</p></td>
<td></td>
<td><p>180</p></td>
<td><p>max. moment</p></td>
</tr>
<tr class="row-odd"><td><p>minmoment</p></td>
<td></td>
<td><p>-180</p></td>
<td><p>min. moment</p></td>
</tr>
<tr class="row-even"><td><p>maxneckmoment</p></td>
<td></td>
<td><p>180</p></td>
<td><p>max. neck moment</p></td>
</tr>
<tr class="row-odd"><td><p>minneckmoment</p></td>
<td></td>
<td><p>-180</p></td>
<td><p>min. neck moment</p></td>
</tr>
<tr class="row-even"><td><p>maxneckang</p></td>
<td></td>
<td><p>90</p></td>
<td><p>max. neck angle</p></td>
</tr>
<tr class="row-odd"><td><p>minneckang</p></td>
<td></td>
<td><p>-90</p></td>
<td><p>min. neck angle</p></td>
</tr>
<tr class="row-even"><td><p>visibleـangle</p></td>
<td></td>
<td><p>90.0</p></td>
<td><p>visible angle</p></td>
</tr>
<tr class="row-odd"><td><p>visibleـdistance</p></td>
<td></td>
<td></td>
<td><p>visible distance</p></td>
</tr>
<tr class="row-even"><td><p>audioـcutـdist</p></td>
<td></td>
<td><p>50.0</p></td>
<td><p>audio cut off distance</p></td>
</tr>
<tr class="row-odd"><td><p>quantize_step</p></td>
<td></td>
<td><p>0.1</p></td>
<td><p>quantize step of distance for movable objects</p></td>
</tr>
<tr class="row-even"><td><p>quantize_step_l</p></td>
<td></td>
<td><p>0.01</p></td>
<td><p>quantize step of distance for landmarks</p></td>
</tr>
<tr class="row-odd"><td><p>quantize_step_dir</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>quantize_step_dist_team_l</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>quantize_step_dist_team_r</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>quantize_step_dist_l_team_l</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>quantize_step_dist_l_team_r</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>quantize_step_dir_team_l</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>quantize_step_dir_team_r</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>ckick_margin</p></td>
<td></td>
<td><p>1.0</p></td>
<td><p>corner kick margin</p></td>
</tr>
<tr class="row-odd"><td><p>wind_dir</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
<td><p>wind direction</p></td>
</tr>
<tr class="row-even"><td><p>wind_force</p></td>
<td><p>10.0</p></td>
<td><p>0.0</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>wind_rand</p></td>
<td><p>0.3</p></td>
<td><p>0.0</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>wind_none</p></td>
<td></td>
<td></td>
<td><p>wind factor is none</p></td>
</tr>
<tr class="row-odd"><td><p>wind_random</p></td>
<td></td>
<td><p>false</p></td>
<td><p>wind factor is random</p></td>
</tr>
<tr class="row-even"><td><p>inertia_moment</p></td>
<td></td>
<td><p>5.0</p></td>
<td><p>intertia moment for turn</p></td>
</tr>
<tr class="row-odd"><td><p>half_time</p></td>
<td></td>
<td><p>300</p></td>
<td><p>length of a half time in seconds</p></td>
</tr>
<tr class="row-even"><td><p>drop_ball_time</p></td>
<td></td>
<td><p>200</p></td>
<td><p>number of cycles to wait until dropping the ball automatically</p></td>
</tr>
<tr class="row-odd"><td><p>port</p></td>
<td></td>
<td><p>6000</p></td>
<td><p>player port number</p></td>
</tr>
<tr class="row-even"><td><p>coach_port</p></td>
<td></td>
<td><p>6001</p></td>
<td><p>(offine) coach port</p></td>
</tr>
<tr class="row-odd"><td><p>olcoach_port_online</p></td>
<td></td>
<td></td>
<td><p>coach port</p></td>
</tr>
<tr class="row-even"><td><p>say_coach_cnt_max</p></td>
<td></td>
<td><p>128</p></td>
<td><p>upper limit of the number of online coach’s message</p></td>
</tr>
<tr class="row-odd"><td><p>say_coach_msg_size</p></td>
<td></td>
<td><p>128</p></td>
<td><p>upper limit of length of online coach’s message</p></td>
</tr>
<tr class="row-even"><td><p>simulator_step</p></td>
<td></td>
<td><p>100</p></td>
<td><p>time step of simulation [unit:msec]</p></td>
</tr>
<tr class="row-odd"><td><p>send_step</p></td>
<td></td>
<td><p>150</p></td>
<td><p>time step of visual information [unit:msec]</p></td>
</tr>
<tr class="row-even"><td><p>recv_step</p></td>
<td></td>
<td><p>10</p></td>
<td><p>time step of acception of commands [unit: msec]</p></td>
</tr>
<tr class="row-odd"><td><p>sense_body_step</p></td>
<td></td>
<td><p>100</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>say_msg_size</p></td>
<td></td>
<td><p>512</p></td>
<td><p>string size of say message [unit:byte]</p></td>
</tr>
<tr class="row-odd"><td><p>clang_win_size</p></td>
<td></td>
<td><p>300</p></td>
<td><p>time window which controls how many messages can be sent (coach language)</p></td>
</tr>
<tr class="row-even"><td><p>clang_de fine_win</p></td>
<td></td>
<td><p>1</p></td>
<td><p>number of messages per window</p></td>
</tr>
<tr class="row-odd"><td><p>clang_meta_win</p></td>
<td></td>
<td><p>1</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>clang_advice_win</p></td>
<td></td>
<td><p>1</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>clang_info_win</p></td>
<td></td>
<td><p>1</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>clang_mess_delay</p></td>
<td></td>
<td><p>50</p></td>
<td><p>delay between receipt of message and send to players</p></td>
</tr>
<tr class="row-odd"><td><p>clang_mess_per_cycle</p></td>
<td></td>
<td><p>1</p></td>
<td><p>maximum number of coach messages sent per cycle</p></td>
</tr>
<tr class="row-even"><td><p>hear_max</p></td>
<td></td>
<td><p>2</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>hear_inc</p></td>
<td></td>
<td><p>1</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>hear_decay</p></td>
<td></td>
<td><p>2</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>catch_ban_cycle</p></td>
<td></td>
<td><p>5</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>coach</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>coach_w_referee</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>old_coach_hear</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>send_vi_step</p></td>
<td></td>
<td><p>100</p></td>
<td><p>interval of online coach’s look</p></td>
</tr>
<tr class="row-even"><td><p>use_offside</p></td>
<td></td>
<td><p>on</p></td>
<td><p>flag for using off side rule</p></td>
</tr>
<tr class="row-odd"><td><p>offside_active_area_size</p></td>
<td></td>
<td><p>5</p></td>
<td><p>offside active area size</p></td>
</tr>
<tr class="row-even"><td><p>forbid_kick_off_offside</p></td>
<td></td>
<td><p>on</p></td>
<td><p>forbid kick off offside</p></td>
</tr>
<tr class="row-odd"><td><p>log_file</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>record</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>record_version</p></td>
<td></td>
<td><p>3</p></td>
<td><p>flaag for record log</p></td>
</tr>
<tr class="row-even"><td><p>record_log</p></td>
<td></td>
<td><p>on</p></td>
<td><p>flag for record client command log</p></td>
</tr>
<tr class="row-odd"><td><p>record messages</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>send_log</p></td>
<td></td>
<td><p>on</p></td>
<td><p>flag for send client command log</p></td>
</tr>
<tr class="row-odd"><td><p>log_times</p></td>
<td></td>
<td><p>off</p></td>
<td><p>flag for writing cycle lenth to log  file</p></td>
</tr>
<tr class="row-even"><td><p>verbose</p></td>
<td></td>
<td><p>off</p></td>
<td><p>flag for verbose mode</p></td>
</tr>
<tr class="row-odd"><td><p>replay</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>offside_kick_margin</p></td>
<td></td>
<td><p>9.15</p></td>
<td><p>offside kick margin</p></td>
</tr>
<tr class="row-odd"><td><p>slow_down_factor</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>start_goal_l</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>start_goal_r</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>fullstate_l</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>fullstate_r</p></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">4. Soccer Server</a><ul>
<li><a class="reference internal" href="#objects">4.1. Objects</a></li>
<li><a class="reference internal" href="#protocols">4.2. Protocols</a><ul>
<li><a class="reference internal" href="#player-command-protocol">4.2.1. Player Command Protocol</a><ul>
<li><a class="reference internal" href="#connecting-reconnecting-and-disconnecting">Connecting, reconnecting, and disconnecting</a></li>
<li><a class="reference internal" href="#initial-settings">Initial Settings</a></li>
<li><a class="reference internal" href="#player-control">Player Control</a></li>
<li><a class="reference internal" href="#others">Others</a></li>
</ul>
</li>
<li><a class="reference internal" href="#player-sensor-protocol">4.2.2. Player Sensor Protocol</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sensor-models">4.3. Sensor Models</a><ul>
<li><a class="reference internal" href="#aural-sensor-model">4.3.1. Aural Sensor Model</a><ul>
<li><a class="reference internal" href="#capacity-of-the-aural-sensor">Capacity of the Aural Sensor</a></li>
<li><a class="reference internal" href="#range-of-communication">Range of Communication</a></li>
<li><a class="reference internal" href="#aural-sensor-example">Aural Sensor Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#vision-sensor-model">4.3.2. Vision Sensor Model</a><ul>
<li><a class="reference internal" href="#range-of-view">Range of View</a></li>
<li><a class="reference internal" href="#visual-sensor-noise-model">Visual Sensor Noise Model</a></li>
</ul>
</li>
<li><a class="reference internal" href="#body-sensor-model">4.3.3. Body Sensor Model</a></li>
</ul>
</li>
<li><a class="reference internal" href="#movement-models">4.4. Movement Models</a><ul>
<li><a class="reference internal" href="#movement-noise-model">4.4.1. Movement Noise Model</a></li>
<li><a class="reference internal" href="#collision-model">4.4.2. Collision Model</a></li>
</ul>
</li>
<li><a class="reference internal" href="#action-models">4.5. Action Models</a><ul>
<li><a class="reference internal" href="#catch-model">4.5.1. Catch Model</a></li>
<li><a class="reference internal" href="#dash-model">4.5.2. Dash Model</a><ul>
<li><a class="reference internal" href="#sideward-and-omni-directional-dashes">Sideward and Omni-Directional Dashes</a></li>
<li><a class="reference internal" href="#stamina-model">Stamina Model</a></li>
</ul>
</li>
<li><a class="reference internal" href="#kick-model">4.5.3. Kick Model</a></li>
<li><a class="reference internal" href="#move-model">4.5.4. Move Model</a></li>
<li><a class="reference internal" href="#say-model">4.5.5. Say Model</a></li>
<li><a class="reference internal" href="#tackle-model">4.5.6. Tackle Model</a></li>
<li><a class="reference internal" href="#turn-model">4.5.7. Turn Model</a></li>
<li><a class="reference internal" href="#turnneck-model">4.5.8. TurnNeck Model</a></li>
</ul>
</li>
<li><a class="reference internal" href="#heterogeneous-players">4.6. Heterogeneous Players</a></li>
<li><a class="reference internal" href="#referee-model">4.7. Referee Model</a><ul>
<li><a class="reference internal" href="#play-modes-and-referee-messages">4.7.1. Play Modes and referee messages</a></li>
<li><a class="reference internal" href="#illegal-defense-referee">4.7.2. Illegal Defense Referee</a><ul>
<li><a class="reference internal" href="#rules">Rules</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#the-soccer-simulation">4.8. The Soccer Simulation</a><ul>
<li><a class="reference internal" href="#description-of-the-simulation-algorithm">4.8.1. Description of the simulation algorithm</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-soccerserver">4.9. Using Soccerserver</a><ul>
<li><a class="reference internal" href="#the-soccerserver-parameters">4.9.1. The Soccerserver Parameters</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="gettingstarted.html"
                        title="previous chapter"><span class="section-number">3. </span>Getting Started</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="soccermonitor.html"
                        title="next chapter"><span class="section-number">5. </span>Soccer Monitor</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/soccerserver.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="soccermonitor.html" title="5. Soccer Monitor"
             >next</a> |</li>
        <li class="right" >
          <a href="gettingstarted.html" title="3. Getting Started"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">The RoboCup Soccer Simulator  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">4. </span>Soccer Server</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright The RoboCup Soccer Simulator Maintenance Committee.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.2.
    </div>
  </body>
</html>